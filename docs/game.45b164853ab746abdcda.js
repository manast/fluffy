!function(){"use strict";var n,t={951:function(n,t,e){var r,o=e(666),i=e.n(o),s=e(841),a=e(292),F=e(134),u=[0,4278255873,4283021374,4286435444,4292891993,4294014592,4283522745,4293909349,4284048859,4286417407,4284400588,4287090910,4282491450,4290078391,4291611852,4294967295];function l(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}!function(n){n[n.UP=1]="UP",n[n.DOWN=2]="DOWN",n[n.LEFT=3]="LEFT",n[n.RIGHT=4]="RIGHT",n[n.NONE=5]="NONE"}(r||(r={}));var c=function(){function n(t){for(var e in function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.container=new s.W20,this.textures={},this.xpos=0,this.ypos=0,this.playing=!1,t){var r=this;this.textures[e]=t[e].map((function(n){return r.getPixiTexture(n.map((function(n){return{pattern:n.pattern.split(/\s+/).map((function(n){return parseInt(n,16)})),colorIndex:n.color}})))}))}this.pixiSprite=new s.KgH(this.textures[Object.keys(this.textures)[0]]),this.pixiSprite.loop=!0,this.pixiSprite.animationSpeed=.2,this.container.addChild(this.pixiSprite)}var t,e;return t=n,e=[{key:"getPatternAsPixels",value:function(n,t){for(var e=new Uint32Array(1024),r=0,o=[0,128,8,136],i=u[t],s=u[0],a=0;a<4;a++)for(var F=o[a],l=8*a;l<8*a+8;l++){for(var c=n[r++],B=7;B>=0;B--){var E=1&c;c>>=1,e[F+B]=E?i:s}F+=16}return new Uint8Array(e.buffer)}},{key:"mergePatterns",value:function(n,t){for(var e=0;e<n.length;e++)n[e]=n[e]|t[e];return n}},{key:"getPixiTexture",value:function(n){for(var t=this.getPatternAsPixels(n[0].pattern,n[0].colorIndex),e=1;e<n.length;e++)t=this.mergePatterns(t,this.getPatternAsPixels(n[e].pattern,n[e].colorIndex));return s.xEZ.fromBuffer(t,16,16,{format:s.I2L.RGBA})}},{key:"add",value:function(n){n.addChild(this.container)}},{key:"remove",value:function(n){n.removeChild(this.container)}},{key:"set",value:function(n,t){this.xpos=n,this.ypos=t,this.container.position.set(n,t)}},{key:"move",value:function(n,t){switch(t=void 0===t?1:t,this.pixiSprite.textures!==this.textures[n]&&n&&n!==r.NONE&&(this.pixiSprite.textures=this.textures[n]),this.playing||this.pixiSprite.play(),n){case r.RIGHT:this.set(this.xpos+t,this.ypos);break;case r.LEFT:this.set(this.xpos-t,this.ypos);break;case r.UP:this.set(this.xpos,this.ypos-t);break;case r.DOWN:this.set(this.xpos,this.ypos+t)}}},{key:"moveTo",value:function(n,t,e){var o=n-this.xpos,i=t-this.ypos,s=o>0?r.RIGHT:o<0?r.LEFT:i>0?r.DOWN:i<0?r.UP:r.NONE;return this.move(s,e),this.xpos==n&&this.ypos==t}},{key:"checkCollision",value:function(n){var t=n.xpos-this.xpos,e=n.ypos-this.ypos;return Math.sqrt(t*t+e*e)<12}},{key:"stop",value:function(){this.playing=!1,this.pixiSprite.stop()}}],e&&l(t.prototype,e),n}();function B(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function E(n){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},E(n)}function f(n,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n):t}function p(n,t){return p=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n},p(n,t)}var h=function(n){return n&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n};var C,v="00 00 00 00 00 00 03 0F\n0F 1F 1F 1F 1F 0F 0F 03\n00 00 00 00 00 00 C0 F0\nF0 F8 F8 F8 F8 F0 F0 C0",d=function(n){!function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&p(n,t)}(i,n);var t,e,o=(t=i,e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}(),function(){var n,r=E(t);if(e){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)});function i(){return function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,(B(C={},r.LEFT,[[{pattern:v,color:6}]]),B(C,r.RIGHT,[[{pattern:v,color:6}]]),B(C,r.UP,[[{pattern:v,color:6}]]),B(C,r.DOWN,[[{pattern:v,color:6}]]),C))}return i}(c),y=["00 00 00 00 00 00 00 00\n     00 00 00 00 00 00 00 00 \n     00 00 00 00 00 00 00 00\n     00 00 00 00 00 00 00 00\n     01 01 01 01 01 01 01 01\n     01 01 01 01 01 01 01 01\n     01 01 01 01 01 01 01 01\n     01 01 01 01 01 01 01 01","FF 55 FF 00 03 07 0F 1D \n    FF 55 FF 00 C1 E1 71 39 \n    39 71 E1 C1 00 FF 55 FF \n    1D 0F 07 03 00 FF 55 FF \n    F1 F1 F1 F1 F1 F1 F1 F1\n    F1 F1 F1 F1 F1 F1 F1 F1\n    F1 F1 F1 F1 F1 F1 F1 F1\n    F1 F1 F1 F1 F1 F1 F1 F1","70 70 70 71 73 73 76 56 \n     6A 6E CE CE 8E 0E 0E 0E \n     56 76 73 73 71 70 70 70\n     0E 0E 0E 8E CE CE 6E 6A\n     F1 F1 F1 F1 F1 F1 F1 F1\n     F1 F1 F1 F1 F1 F1 F1 F1\n     F1 F1 F1 F1 F1 F1 F1 F1\n     F1 F1 F1 F1 F1 F1 F1 F1","00 00 00 00 00 00 00 00 \n     C0 40 80 C0 C0 40 80 C0\n     00 00 00 00 00 00 00 00 \n     C0 40 80 C0 C0 40 80 C0 \n     11 11 11 11 11 11 11 11 \n     C1 C1 31 31 31 31 C1 C1\n     11 11 11 11 11 11 11 11\n     C1 C1 31 31 31 31 C1 C1","FE 56 FE 07 C7 E7 77 3F \n     FF FF FF 41 7F 7F 41 7F \n     1F 0F 07 07 07 FE 56 FE \n     7F 41 7F 7F 41 FF FF FF \n     F1 F1 F1 F1 F1 F1 F1 F1 \n     E1 E1 A1 E1 E1 A1 E1 E1 \n     F1 F1 F1 F1 F1 F1 F1 F1 \n     A1 E1 E1 A1 E1 E1 E1 E1","7F 55 7F E0 E3 E7 EF FD \n     FF 55 FF 00 C1 E1 71 39 \n     F9 F1 E1 E1 E0 7F 55 7F \n     1D 0F 07 03 00 FF 55 FF \n     F1 F1 F1 F1 F1 F1 F1 F1\n     F1 F1 F1 F1 F1 F1 F1 F1 \n     F1 F1 F1 F1 F1 F1 F1 F1 \n     F1 F1 F1 F1 F1 F1 F1 F1 ","03 07 0F 1F 7B 1F DF DB \n     FF FF FF 82 FE FE 82 FE \n     DB DF 1F 7B 1F 0F 07 03 \n     FE 82 FE FE 82 FF FF FF \n     F1 F1 F1 F1 F1 F1 F1 F1 \n     E1 E1 A1 E1 E1 A1 E1 E1 \n     F1 F1 F1 F1 F1 F1 F1 F1 \n     A1 E1 E1 A1 E1 E1 E1 E1 ","C0 E0 F0 F8 DE F8 FB DB \n     00 F0 F0 00 F0 F0 F0 F0 \n     DB FB F8 DE F8 F0 E0 C0 \n     F0 F0 F0 F0 F0 F0 F0 F0 \n     E1 F1 F1 F1 F1 F1 F1 F1 \n     11 74 74 11 74 74 74 74 \n     F1 F1 F1 F1 F1 F1 F1 E1 \n     74 74 74 74 74 74 74 74 ","00 00 00 00 00 00 00 00 \n     00 00 00 00 00 00 00 00 \n     00 00 00 00 F0 D0 D0 F0 \n     00 00 00 00 00 00 00 00 \n     11 11 11 11 11 11 11 11 \n     11 11 11 11 11 11 11 11 \n     11 11 11 11 41 41 41 41 \n     11 11 11 11 11 11 11 11 ","00 00 00 00 00 00 00 00 \n     00 00 00 00 00 00 00 00 \n     00 00 00 00 0F 0F 0F 0F \n     00 00 00 00 F0 F0 F0 F0 \n     11 11 11 11 11 11 11 11 \n     11 11 11 11 11 11 11 11 \n     11 11 11 11 71 71 71 71 \n     11 11 11 11 74 74 74 74 ","00 00 00 00 00 00 00 00 \n     F0 F0 F0 F0 F0 F0 F0 F0 \n     00 00 00 00 00 00 00 00 \n     F0 F0 F0 F0 F0 F0 F0 F0 \n     11 11 11 11 11 11 11 11 \n     74 74 74 74 74 74 74 74 \n     11 11 11 11 11 11 11 11 \n     74 74 74 74 74 74 74 74 ","00 00  00 00 00 00 00 00 \n     C0 40 80 C0 C0 40 80 C0 \n     00 00 00 00 00 00 00 00 \n     00 00 00 00 00 00 00 00 \n     11 11 11 11 11 11 11 11 \n     C1 C1 31 31 31 31 C1 C1 \n     11 11 11 11 11 11 11 11 \n     11 11 11 11 11 11 11 11 ","03 1E 17 7C 50 70 E0 A0 \n    BB EE BB 00 1E 0E 1E 3A \n    A0 E0 70 50 7C 16 1F 02 \n    70 E0 C0 00 00 EE BB EE \n    B1 A1 91 B1 A1 91 B1 A1 \n    B1 A1 91 11 B1 B1 A1 91 \n    91 B1 A1 91 B1 B1 A1 91 \n    81 61 61 11 11 B1 A1 91","BB EE BB 00 1E 0E 1E 3A \n     BB EE BB 00 1E 0E 1E 3A \n     70 E0 C0 00 00 EE BB EE \n     70 E0 C0 00 00 EE BB EE \n     B1 A1 91 11 B1 B1 A1 91 \n     B1 A1 91 11 B1 B1 A1 91 \n     81 61 61 11 11 B1 A1 91 \n     81 61 61 11 11 B1 A1 91","BB EE BB 00 1E 0E 1E 3A \n      80 F0 D0 7C 14 1C 0E 0A \n      70 E0 C0 00 00 EE BB EE \n      0A 0E 1C 14 7C D0 F0 80 \n      B1 A1 91 11 B1 B1 A1 91 \n      B1 A1 91 B1 A1 91 B1 A1 \n      81 61 61 11 11 B1 A1 91 \n      91 B1 A1 91 B1 B1 A1 91 ","03 1E 17 7C 50 70 E0 A0 \n     BB EE BB 00 78 70 78 5C \n     A0 E0 70 50 7C 16 1F 02 \n     0E 07 03 00 00 EE BB EE \n     B1 A1 91 B1 A1 91 B1 A1 \n     B1 A1 91 11 B1 B1 A1 91 \n     91 B1 A1 91 B1 B1 A1 91 \n     81 61 61 11 11 B1 A1 91 ","BB EE BB 00 78 70 78 5C \n    BB EE BB 00 78 70 78 5C \n    0E 07 03 00 00 EE BB EE \n    0E 07 03 00 00 EE BB EE \n    B1 A1 91 11 B1 B1 A1 91 \n    B1 A1 91 11 B1 B1 A1 91 \n    81 61 61 11 11 B1 A1 91 \n    81 61 61 11 11 B1 A1 91","BB EE BB 00 78 70 78 5C \n    80 F0 D0 7C 14 1C 0E 0A \n    0E 07 03 00 00 EE BB EE \n    0A 0E 1C 14 7C D0 F0 80 \n    B1 A1 91 11 B1 B1 A1 91 \n    B1 A1 91 B1 A1 91 B1 A1 \n    81 61 61 11 11 B1 A1 91 \n    91 B1 A1 91 B1 B1 A1 91 \n    ","00 00 00 0F 0F 0F 0F 00 \n    F0 F0 00 F0 F0 F0 F0 00 \n    00 00 00 00 00 00 00 00 \n    00 00 00 00 00 00 00 00 \n    11 11 11 71 71 71 71 11 \n    74 74 11 74 74 74 74 11 \n    11 11 11 11 11 11 11 11 \n    11 11 11 11 11 11 11 11","00 00 00 F0 D0 D0 F0 00 \n    00 00 00 00 00 00 00 00 \n    00 00 00 00 00 00 00 00 \n    00 00 00 00 00 00 00 00 \n    11 11 11 41 41 41 41 11 \n    11 11 11 11 11 11 11 11 \n    11 11 11 11 11 11 11 11 \n    11 11 11 11 11 11 11 11 \n    ","BF BF BF 00 FB FB FB 00 \n    BF BF BF 00 FB FB FB 00 \n    BF BF BF 00 FB FB FB 00 \n    BF BF BF 00 FB FB FB 00 \n    B1 91 61 11 B1 91 61 11 \n    B1 91 61 11 B1 91 61 11 \n    B1 91 61 11 B1 91 61 11 \n    B1 91 61 11 B1 91 61 11 ","FF FF FF FE FE FE FC F0 \n    BF 7F 7F FF FF 7F 3F 0F \n    F2 E4 E0 E0 E0 F0 F0 FC \n    0F 07 07 07 07 0F 0F 3F \n    11 11 11 1F 1F 16 16 16 \n    1F 1F 1F 1F 1F 16 16 16 \n    16 16 16 16 16 16 16 16 \n    16 16 16 16 16 16 16 16 ","FF FF FF FF FF FF FF FF\n    12 CC 23 14 81 E7 C3 81 \n    FF FF FF FF FF FF FF FF \n    30 30 81 81 C3 C3 E7 E7 \n    11 11 11 11 11 11 11 11 \n    1C 1C 1C 1C 1C 1B 18 18 \n    11 11 11 11 11 11 11 11 \n    B8 B8 18 18 18 18 18 18 ","FF FE FA FD FE FE FC F0 \n    FF BF 5F 3F FF 7F 3F 0F \n    F2 E4 E0 E0 E0 F0 F0 FC \n    0F 07 07 07 07 0F 0F 3F \n    11 1B 1A 19 1F 16 16 16 \n    1F 1B 1A 19 1F 16 16 16 \n    16 16 16 16 16 16 16 16 \n    16 16 16 16 16 16 16 16 ","00 00 00 00 00 07 0F 17\n   00 00 00 00 00 80 40 A0\n   1F 0D 06 00 00 00 00 00\n   F0 E0 C0 00 00 00 00 00 \n   B1 B1 B1 B1 B1 B1 B1 B1 \n   B1 B1 B1 B1 B1 B1 B1 B1 \n   B1 B1 B1 B1 B1 B1 B1 B1 \n   B1 B1 B1 B1 B1 B1 B1 B1","00 00 00 01 0D 1B 1F 3F \n   00 00 00 00 D0 B8 F8 B0 \n   3D 2F 1F 1B 0E 01 00 00 \n   D8 F8 F8 D0 E0 C0 00 00 \n   81 81 81 81 81 81 81 81 \n   81 81 81 81 81 81 81 81 \n   81 81 81 81 81 81 81 81 \n   81 81 81 81 81 81 81 81","00 07 0F 31 7E 2F 77 F9 \n   00 80 E8 DC FC FE EE FC \n   FF 7F 3F 1D 0B 03 01 00\n   DB E7 FE B8 F8 C0 80 00 \n    F1 F1 F1 F1 F1 F1 F1 F1 \n    F1 F1 F1 F1 F1 F1 F1 F1 \n    F1 F1 F1 F1 F1 F1 F1 F1 \n    F1 F1 F1 F1 F1 F1 F1 F1","00 04 1C 30 00 08 80 40 \n    E0 20 40 16 04 00 22 07 \n    38 90 82 20 10 13 01 00 \n    09 40 02 08 18 80 30 80 \n    61 61 61 61 61 61 61 61 \n    61 61 61 61 61 61 61 61 \n    61 61 61 61 61 61 61 61 \n    61 61 61 61 61 61 61 61","00 00 3F 3F 1C 22 1C 22 \n    00 00 FC FC 38 44 38 44 \n    1C 22 3E 7F 3E 7F 7F 00 \n    38 44 7C FE 7C FE FE 00 \n    03 03 63 63 71 71 71 71 \n    03 03 63 63 71 71 71 71 \n    71 71 B1 B1 FB FB FB 0B \n    71 71 B1 B1 FB FB FB 0B","00 00 00 00 00 3F 3F 22 \n    00 00 00 00 00 FC FC 44 \n    1C 22 3E 7F 3E 7F 7F 00 \n    38 44 7C FE 7C FE FE 00 \n    01 01 01 63 03 63 63 71 \n    01 01 01 63 03 63 63 71 \n    71 71 B1 B1 FB FB FB 0B \n    71 71 B1 B1 FB FB FB 0B","00 00 00 00 00 00 00 00 \n    00 00 00 00 00 00 00 00 \n    3F 3F 3E 7F 3E 7F 7F 00 \n    FC FC 7C FE 7C FE FE 00 \n    01 01 01 01 01 01 63 03 \n    01 01 01 01 01 01 63 03 \n    63 63 B1 B1 FB FB FB 0B \n    63 63 B1 B1 FB FB FB 0B","00 00 00 00 00 00 00 00 \n    00 00 00 00 00 00 00 00 \n    00 04 11 CA 2D 7F 21 43 \n    00 10 42 54 B5 FE 88 C8 \n    01 01 01 01 01 01 01 01 \n    01 01 01 01 01 01 01 01 \n    01 C1 B1 C1 C1 C1 BC BC \n    C1 C1 C1 C1 C1 C1 BC BC","00 00 00 00 00 00 00 00 \n    C0 40 80 C0 C0 40 80 C0 \n    00 04 11 CA 2D 7F 21 43 \n    00 10 42 54 B5 FE 88 C8 \n    01 01 01 01 01 01 01 01 \n    C1 C1 31 31 31 31 C1 C1 \n    01 C1 B1 C1 C1 C1 BC BC \n    C1 C1 C1 C1 C1 C1 BC BC","00 00 08 06 03 35 0F 15 \n    00 00 A0 A8 F6 AC F8 F6 \n    0F 3B 06 1F 0D 13 02 07 \n    E8 FE E8 F4 F8 68 20 70 \n    01 01 C1 C1 C1 C1 C1 C1 \n    01 01 C1 C1 C1 C1 C1 C1 \n    C1 C1 C1 C1 C1 C1 B1 B1 \n    C1 C1 C1 C1 C1 C1 B1 B1","05 25 1A 06 6B 15 4E 35 \n    48 2A F4 A9 F6 4C AB 06 \n    0E 3A 4D 1F 6D 13 02 07 \n    1D 0E 3B 54 FB 6C 20 70 \n    C1 C1 C1 B1 C1 B1 C1 C1 \n    C1 B1 C1 C1 C1 B1 C1 C1 \n    B1 C1 C1 B1 C1 C1 B1 B1 \n    C1 C1 C1 B1 C1 C1 B1 B1","10 44 1D B1 40 08 C4 40 \n    E4 20 49 16 04 91 22 07 \n    38 90 80 24 49 1B 25 0E \n    09 00 23 08 1C 84 32 E0 \n    C1 B1 C1 C1 C1 B1 C1 C1 \n    C1 B1 C1 B1 C1 C1 C1 C1 \n    C1 B1 C1 B1 C1 C1 C1 B1 \n    B1 C1 C1 B1 B1 C1 C1 B1","00 00 00 00 00 08 44 41 \n    00 00 00 00 00 A0 12 07 \n    38 91 81 24 C9 BA 2D 03 \n    49 00 22 49 5D A4 76 E0 \n    E1 B1 C1 C1 C1 B1 C1 C1 \n    C1 B1 C1 B1 C1 C1 C1 C1 \n    C1 C1 C1 B1 C1 C1 C1 BC \n    C1 C1 C1 C1 C1 C1 C1 BC","00 00 08 06 03 35 0F 15 \n    00 00 A0 A8 F6 AC F8 F6 \n    0F 3B 06 1F 0D 13 03 07 \n    E8 FE E8 F4 F8 68 60 70 \n    01 01 41 41 41 41 41 41 \n    01 01 41 41 41 41 41 41 \n    41 41 41 41 41 41 41 41 \n    41 41 41 41 41 41 41 41","05 25 1A 06 6B 15 4E 35 \n    48 2A F4 A9 F6 4C AB 06 \n    0E 3A 45 1F 6D 13 03 07 \n    1D 0E 3B 54 BB EC 60 70 \n    41 41 41 41 41 41 41 41 \n    41 41 41 41 41 E1 41 C1 \n    41 41 E1 41 41 41 41 41 \n    41 41 41 41 41 41 41 41","10 44 1D B1 40 08 C4 40 \n    E4 20 49 16 04 91 22 07 \n    38 90 80 24 49 1B 25 0E \n    09 00 23 08 1C 84 32 E0 \n    41 41 41 41 41 41 41 41 \n    41 41 41 41 41 E1 41 41 \n    41 41 E1 41 41 41 41 41 \n    41 C1 41 41 41 41 41 41","00 00 00 00 00 08 44 41 \n    00 00 00 00 00 A0 12 07 \n    38 91 81 24 C9 BA 2D 02 \n    49 00 22 49 5D A4 76 C0 \n    E1 B1 C1 C1 C1 41 41 41 \n    C1 B1 C1 B1 C1 41 41 41 \n    41 41 41 41 41 41 41 E4 \n    41 C1 41 41 41 41 41 E4","00 00 00 00 00 00 00 00 \n    00 00 00 00 00 00 00 00 \n    00 04 11 CA 2D 7F 00 01 \n    00 10 42 54 B5 FE 10 40 \n    01 01 01 01 01 01 01 01 \n    01 01 01 01 01 01 01 01 \n    01 E1 41 41 41 41 04 E4\n    C1 41 41 41 41 41 E4 E4","00 00 00 00 00 00 00 00 \n    C0 40 80 C0 C0 40 80 C0 \n    00 04 11 CA 2D 7F 00 01 \n    00 10 42 54 B5 FE 10 40 \n    01 01 01 01 01 01 01 01 \n    C1 C1 31 31 31 31 C1 C1 \n    01 E1 41 41 41 41 04 E4 \n    C1 41 41 41 41 41 E4 E4","FF FF FF 00 01 FC F0 F0 \n    00 00 00 FF 80 3F 0F 0F \n    E0 E0 E0 E0 E0 F0 F0 FC \n    07 07 07 07 07 0F 0F 3F \n    11 11 11 01 F1 1F 1F 1F \n    01 01 01 1F F1 1F 1F 1F \n    1F 1F 1F 1F 1F 1F 1F 1F \n    1F 1F 1F 1F 1F 1F 1F 1F","FE 56 FE 07 C7 E7 77 3F \n    FF FF FF 41 7F 7F 41 7F \n    1F 0F 07 07 07 FE 56 FE \n    7F 41 7F 7F 41 FF FF FF \n    F1 F1 F1 F1 F1 F1 F1 F1 \n    E1 E1 A1 E1 E1 A1 E1 E1 \n    F1 F1 F1 F1 F1 F1 F1 F1 \n    A1 E1 E1 A1 E1 E1 E1 E1","7F 55 7F E0 E3 E7 EF FD \n    FF 55 FF 00 C1 E1 71 39 \n    F9 F1 E1 E1 E0 7F 55 7F \n    1D 0F 07 03 00 FF 55 FF \n    F1 F1 F1 F1 F1 F1 F1 F1 \n    F1 F1 F1 F1 F1 F1 F1 F1 \n    F1 F1 F1 F1 F1 F1 F1 F1 \n    F1 F1 F1 F1 F1 F1 F1 F1","03 07 0F 1F 7B 1F DF DB \n    FF FF FF 82 FE FE 82 FE \n    DB DF 1F 7B 1F 0F 07 03 \n    FE 82 FE FE 82 FF FF FF \n    F1 F1 F1 F1 F1 F1 F1 F1 \n    E1 E1 A1 E1 E1 A1 E1 E1 \n    F1 F1 F1 F1 F1 F1 F1 F1 \n    A1 E1 E1 A1 E1 E1 E1 E1","C0 E0 F0 F8 DE F8 FB DB \n    00 F0 F0 00 F0 F0 F0 F0 \n    DB FB F8 DE F8 F0 E0 C0 \n    F0 F0 F0 F0 F0 F0 F0 F0 \n    E1 F1 F1 F1 F1 F1 F1 F1 \n    11 74 74 11 74 74 74 74 \n    F1 F1 F1 F1 F1 F1 F1 E1 \n    74 74 74 74 74 74 74 74","00 00 00 00 00 00 00 00 \n    00 00 00 00 00 00 00 00 \n    00 00 00 00 F0 D0 D0 F0 \n    00 00 00 00 00 00 00 00 \n    11 11 11 11 11 11 11 11 \n    11 11 11 11 11 11 11 11 \n    11 11 11 11 41 41 41 41 \n    11 11 11 11 11 11 11 11","00 00 00 00 00 00 00 00 \n    00 00 00 00 00 00 00 00 \n    00 00 00 00 0F 0F 0F 0F \n    00 00 00 00 F0 F0 F0 F0 \n    11 11 11 11 11 11 11 11 \n    11 11 11 11 11 11 11 11 \n    11 11 11 11 71 71 71 71 \n    11 11 11 11 74 74 74 74","00 00 00 00 00 00 00 00 \n    F0 F0 F0 F0 F0 F0 F0 F0 \n    00 00 00 00 00 00 00 00 \n    F0 F0 F0 F0 F0 F0 F0 F0 \n    11 11 11 11 11 11 11 11 \n    74 74 74 74 74 74 74 74 \n    11 11 11 11 11 11 11 11 \n    74 74 74 74 74 74 74 74","00 00 00 00 00 00 00 00 \n    C0 40 80 C0 C0 40 80 C0 \n    00 00 00 00 00 00 00 00 \n    00 00 00 00 00 00 00 00 \n    11 11 11 11 11 11 11 11 \n    C1 C1 31 31 31 31 C1 C1 \n    11 11 11 11 11 11 11 11 \n    11 11 11 11 11 11 11 11","03 1E 17 7C 50 70 E0 A0 \n    BB EE BB 00 1E 0E 1E 3A \n    A0 E0 70 50 7C 16 1F 02 \n    70 E0 C0 00 00 EE BB EE \n    B1 A1 91 B1 A1 91 B1 A1 \n    B1 A1 91 11 B1 B1 A1 91 \n    91 B1 A1 91 B1 B1 A1 91 \n    81 61 61 11 11 B1 A1 91","BB EE BB 00 1E 0E 1E 3A \n    BB EE BB 00 1E 0E 1E 3A \n    70 E0 C0 00 00 EE BB EE \n    70 E0 C0 00 00 EE BB EE \n    B1 A1 91 11 B1 B1 A1 91 \n    B1 A1 91 11 B1 B1 A1 91 \n    81 61 61 11 11 B1 A1 91 \n    81 61 61 11 11 B1 A1 91","BB EE BB 00 1E 0E 1E 3A \n    80 F0 D0 7C 14 1C 0E 0A \n    70 E0 C0 00 00 EE BB EE \n    0A 0E 1C 14 7C D0 F0 80 \n    B1 A1 91 11 B1 B1 A1 91 \n    B1 A1 91 B1 A1 91 B1 A1 \n    81 61 61 11 11 B1 A1 91 \n    91 B1 A1 91 B1 B1 A1 91","03 1E 17 7C 50 70 E0 A0 \n    BB EE BB 00 78 70 78 5C \n    A0 E0 70 50 7C 16 1F 02 \n    0E 07 03 00 00 EE BB EE \n    B1 A1 91 B1 A1 91 B1 A1 \n    B1 A1 91 11 B1 B1 A1 91 \n    91 B1 A1 91 B1 B1 A1 91 \n    81 61 61 11 11 B1 A1 91","BB EE BB 00 78 70 78 5C \n    BB EE BB 00 78 70 78 5C \n    0E 07 03 00 00 EE BB EE \n    0E 07 03 00 00 EE BB EE \n    B1 A1 91 11 B1 B1 A1 91 \n    B1 A1 91 11 B1 B1 A1 91 \n    81 61 61 11 11 B1 A1 91 \n    81 61 61 11 11 B1 A1 91","BB EE BB 00 78 70 78 5C \n    80 F0 D0 7C 14 1C 0E 0A \n    0E 06 03 00 00 EE BB EE \n    0A 0E 1C 14 7C D0 F0 80 \n    B1 A1 91 11 B1 B1 A1 91 \n    B1 A1 91 B1 A1 91 B1 A1 \n    81 61 61 11 11 B1 A1 91 \n    91 B1 A1 91 B1 B1 A1 91","00 00 00 0F 0F 0F 0F 00 \n    F0 F0 00 F0 F0 F0 F0 00 \n    00 00 00 00 00 00 00 00 \n    00 00 00 00 00 00 00 00 \n    11 11 11 71 71 71 71 11 \n    74 74 11 74 74 74 74 11 \n    11 11 11 11 11 11 11 11 \n    11 11 11 11 11 11 11 11","00 00 00 F0 D0 D0 F0 00 \n    00 00 00 00 00 00 00 00 \n    00 00 00 00 00 00 00 00 \n    00 00 00 00 00 00 00 00 \n    11 11 11 41 41 41 41 11 \n    11 11 11 11 11 11 11 11 \n    11 11 11 11 11 11 11 11 \n    11 11 11 11 11 11 11 11","BF BF BF 00 FB FB FB 00 \n    BF BF BF 00 FB FB FB 00 \n    BF BF BF 00 FB FB FB 00 \n    BF BF BF 00 FB FB FB 00 \n    61 91 B1 11 61 91 B1 11 \n    61 91 B1 11 61 91 B1 11 \n    61 91 B1 11 61 91 B1 11 \n    61 91 B1 11 61 91 B1 11","FF FF FF FE FE FE FC F0 \n    BF 7F 7F FF FF 7F 3F 0F \n    F2 E4 E0 E0 E0 F0 F0 FC \n    0F 07 07 07 07 0F 0F 3F \n    11 11 11 1F 1F 16 16 16 \n    1F 1F 1F 1F 1F 16 16 16 \n    16 16 16 16 16 16 16 16 \n    16 16 16 16 16 16 16 16","FF FF FF FF FF FF FF FF \n    12 CC 23 14 81 E7 C3 81 \n    FF FF FF FF FF FF FF FF \n    30 30 81 81 C3 C3 E7 E7 \n    11 11 11 11 11 11 11 11 \n    1C 1C 1C 1C 1C 1B 18 18 \n    11 11 11 11 11 11 11 11 \n    B8 B8 18 18 18 18 18 18"];function m(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var b=function(){function n(t){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.data=t.split(/\s+/).map((function(n){return parseInt(n,16)})),this.texture=this.getTexture()}var t,e;return t=n,(e=[{key:"getTexture",value:function(){for(var n=new Uint32Array(1024),t=this.data,e=[0,8,128,136],r=0;r<4;r++)for(var o=e[r],i=8*r;i<8*r+8;i++){for(var a=t[i+32],F=t[i],l=u[a>>4],c=u[15&a],B=7;B>=0;B--){var E=1&F;F>>=1,n[o+B]=E?l:c}o+=16}return s.xEZ.fromBuffer(new Uint8Array(n.buffer),16,16,{format:s.I2L.RGBA})}}])&&m(t.prototype,e),n}();function A(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function x(n,t,e){return x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(n,t,e){var r=function(n,t){for(;!Object.prototype.hasOwnProperty.call(n,t)&&null!==(n=D(n)););return n}(n,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(e):o.value}},x(n,t,e||n)}function D(n){return D=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},D(n)}function O(n,t){return!t||"object"!==T(t)&&"function"!=typeof t?function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n):t}function P(n,t){return P=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n},P(n,t)}var T=function(n){return n&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n};var R,w,g=function(n){!function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&P(n,t)}(s,n);var t,e,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}(),function(){var n,t=D(r);if(o){var e=D(this).constructor;n=Reflect.construct(t,arguments,e)}else n=t.apply(this,arguments);return O(this,n)});function s(n){var t;!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var e=n.map((function(n){return new b(y[n])}));return(t=i.call(this,e.map((function(n){return n.texture})))).loop=!1,t.animationSpeed=.2,t.visible=!1,t}return t=s,e=[{key:"add",value:function(n){n.addChild(this)}},{key:"remove",value:function(n){n.removeChild(this)}},{key:"start",value:function(n){var t=n.x,e=n.y,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=this;return this.gotoAndStop(0),this.position.set(16*t,16*e),this.visible=!0,x(D(s.prototype),"play",this).call(this),new Promise((function(n){var t=o;o.onComplete=function(){t.onComplete=void 0,r||(t.visible=!1)}}))}}],e&&A(t.prototype,e),s}(s.KgH);function _(n,t,e,r,o,i,s){try{var a=n[i](s),F=a.value}catch(n){return void e(n)}a.done?t(F):Promise.resolve(F).then(r,o)}function k(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function I(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function L(n,t,e){return L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(n,t,e){var r=function(n,t){for(;!Object.prototype.hasOwnProperty.call(n,t)&&null!==(n=S(n)););return n}(n,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(e):o.value}},L(n,t,e||n)}function S(n){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},S(n)}function N(n,t){return!t||"object"!==M(t)&&"function"!=typeof t?function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n):t}function j(n,t){return j=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n},j(n,t)}!function(n){n[n.SOLID=1]="SOLID",n[n.OBJECT=2]="OBJECT"}(R||(R={})),function(n){n[n.EMPTY=0]="EMPTY",n[n.FLOOR=1|R.SOLID]="FLOOR",n[n.WALL=2|R.SOLID]="WALL",n[n.ROPE=4]="ROPE",n[n.ROPE_START=8]="ROPE_START",n[n.RIGHT_BELT=16|R.SOLID]="RIGHT_BELT",n[n.LEFT_BELT=18|R.SOLID]="LEFT_BELT",n[n.BOMB=32]="BOMB",n[n.CARROT=64]="CARROT",n[n.PIPE=129]="PIPE",n[n.PIPE_START=256]="PIPE_START",n[n.PIPE_END=272]="PIPE_END",n[n.TRAMPOLINE=274|R.SOLID]="TRAMPOLINE",n[n.BOMB_EXPLOSION=276]="BOMB_EXPLOSION",n[n.DEAD_PARROT=280]="DEAD_PARROT",n[n.DEAD_PARROT_ROPE=292]="DEAD_PARROT_ROPE",n[n.DEAD_FLUFFY=290]="DEAD_FLUFFY",n[n.UNKNOWN=512]="UNKNOWN",n[n.BOMB_ACTIVE=528]="BOMB_ACTIVE"}(w||(w={}));var M=function(n){return n&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n};var G=a.$u.from({url:"assets/bomb-explosion.mp3"});G.loop=!1;var U=a.$u.from({url:"assets/blood.mp3"});U.loop=!1;var H,W,Y=["0A 21 0B 17 9F 2F 5F 2F\n  1F AF 17 4F 15 0B 0E 07\n  A2 68 D2 EC F9 94 9A 94\n  F9 F4 F8 D2 E8 A4 38 70","09 24 0B 57 2F 0F 5F 2F \n  5F 0F 57 0F 15 01 01 03\n  40 A8 D0 EC F8 94 9A 94\n  F8 F4 F8 D0 E8 80 80 E0","45 16 4B 37 9F 29 59 29\n  9F 2F 1F 4B 17 25 1C 0E\n  50 84 D0 E8 F9 F4 FA F4\n  F8 F5 E8 F2 A8 D0 70 E0","02 15 0B 37 1F 29 59 29\n  1F 2F 1F 0B 17 01 01 07\n  90 24 D0 EA F4 F0 FA F4\n  FA F0 EA F0 A8 80 80 C0","09 24 0B 57 1F 2F 1F AF\n  1F 2F 97 2F 17 03 03 07\n  52 A8 D2 E8 F1 F4 F9 F0\n  FA F0 F9 F4 68 F4 00 80","29 04 23 57 0F 2F 1F 2F\n  1F 4F 17 2F 13 07 00 00\n  52 88 D2 E8 F5 F0 FA F0\n  FA F4 F8 F5 68 E0 60 F0","00 00 00 00 00 06 00 00\n  00 00 00 00 00 00 00 00\n  00 00 00 00 00 00 00 00\n  00 00 00 00 00 00 00 00","00 00 00 00 00 00 00 00\n  00 00 00 00 00 00 00 00\n  00 00 00 00 00 60 00 00\n  00 00 00 00 00 00 00 00"];!function(n){n[n.IN_ROPE=0]="IN_ROPE",n[n.GOING_TO_ROPE=1]="GOING_TO_ROPE",n[n.INSIDE_PIPE=2]="INSIDE_PIPE",n[n.FALLING=3]="FALLING",n[n.BOUNCING=4]="BOUNCING",n[n.STANDING=5]="STANDING",n[n.DEAD=6]="DEAD"}(H||(H={}));var z=function(n){!function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&j(n,t)}(u,n);var t,e,o,a,F=(o=u,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}(),function(){var n,t=S(o);if(a){var e=S(this).constructor;n=Reflect.construct(t,arguments,e)}else n=t.apply(this,arguments);return N(this,n)});function u(n){var t;return function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=F.call(this,(I(W={},r.LEFT,[[{pattern:Y[2],color:4},{pattern:Y[6],color:15}],[{pattern:Y[3],color:4},{pattern:Y[6],color:15}]]),I(W,r.RIGHT,[[{pattern:Y[0],color:4},{pattern:Y[7],color:15}],[{pattern:Y[1],color:4},{pattern:Y[7],color:15}]]),I(W,r.UP,[[{pattern:Y[4],color:4}],[{pattern:Y[5],color:4}]]),I(W,r.DOWN,[[{pattern:Y[4],color:4}],[{pattern:Y[5],color:4}]]),W))).bomb=new d,t.bombAnimations=new s.W20,t.hasBomb=!1,t.bombPos={x:0,y:0},t.insidePipe=!1,t.animationsContainer=new s.W20,t.status=H.STANDING,t.falling=!1,t.goingToRope=!1,t.fallCoord=0,t.pixiSprite.textures=t.textures[r.RIGHT],t.bombAnimations.addChild(new g([24,25,26,27]),new g([24,25,26,27]),new g([24,25,26,27])),t.deadExplodeAnimation=new g([37,38,39,40,41]),t.deadFallAnimation=new g([40,41]),t.deadExplodeAnimationRope=new g([37,38,39,40,42]),t.deadFallAnimationRope=new g([40,42]),t.animationsContainer.addChild(t.bombAnimations,t.deadExplodeAnimation,t.deadFallAnimation,t.deadExplodeAnimationRope,t.deadFallAnimationRope),t.bombTile=s.jyi.from(n),t}return t=u,e=[{key:"add",value:function(n){L(S(u.prototype),"add",this).call(this,n),n.addChild(this.animationsContainer)}},{key:"remove",value:function(n){L(S(u.prototype),"remove",this).call(this,n),n.removeChild(this.animationsContainer),this.animationsContainer.children.forEach((function(n){return n.visible=!1}))}},{key:"move",value:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.hasBomb&&(this.bombPos.x=this.xpos,this.bombPos.y=this.ypos),this.elevator?(this.ypos=Math.floor(this.ypos),this.elevator=void 0,this.dstPos={x:this.xpos+(n===r.RIGHT?16:-16),y:this.ypos}):L(S(u.prototype),"move",this).call(this,n,t)}},{key:"alignHorizTiles",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this,e=t.xpos,r=t.ypos,o=16*Math.floor((e+8)/16)+n;o!=e&&(this.dstPos={x:o,y:r})}},{key:"tick",value:function(n,t,e){return(o=i().mark((function o(){var s,a,F,u,l,c,B,E,f,p,h,C,v,d,y,m;return i().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!this.dstPos){o.next=8;break}if(!this.moveTo(this.dstPos.x,this.dstPos.y,1)){o.next=5;break}this.dstPos=void 0,o.next=6;break;case 5:return o.abrupt("return",!0);case 6:o.next=106;break;case 8:if(!n.level){o.next=106;break}if(s=n.level,F=(a=this).xpos,u=a.ypos,l=F+8,c=u,B=u+15,E=Math.floor(l/16),f=Math.floor(c/16),p=Math.floor(B/16),h=n.level.getTileMaterial(E,p),C=h.material,![w.FLOOR,w.LEFT_BELT,w.RIGHT_BELT].includes(C)){o.next=24;break}return this.set(this.xpos,16*f),o.abrupt("return");case 24:if(v=s.getTileMaterial(E,f+1),d=v.material,![w.PIPE,w.PIPE_END].includes(d)){o.next=31;break}return this.status!==H.INSIDE_PIPE&&(this.pixiSprite.visible=!1,this.bomb.pixiSprite.visible=!1,this.status=H.INSIDE_PIPE,F=16*E),this.set(F,u+2),o.abrupt("return");case 31:this.status===H.INSIDE_PIPE&&(this.insidePipe=!1,this.pixiSprite.visible=!0,this.bomb.pixiSprite.visible=!0);case 32:if(d!=w.RIGHT_BELT){o.next=38;break}return this.stop(),this.set(F+1,u),o.abrupt("return");case 38:if(d!=w.LEFT_BELT){o.next=42;break}return this.stop(),this.set(F-1,u),o.abrupt("return");case 42:if(X(d)||[w.ROPE,w.ROPE_START].includes(d)||this.elevator){o.next=64;break}if(this.status!==H.BOUNCING){o.next=59;break}if(!(this.fallCoord>=u+16*s.yroom*11)){o.next=56;break}o.t0=e,o.next=o.t0===r.RIGHT?48:o.t0===r.LEFT?50:52;break;case 48:return this.dstPos={x:F+16,y:u},o.abrupt("break",52);case 50:return this.dstPos={x:F-16,y:u},o.abrupt("break",52);case 52:return this.status=H.STANDING,o.abrupt("return");case 56:this.set(F,u-3);case 57:o.next=62;break;case 59:return this.falling?this.set(F,u+1):(this.falling=!0,this.fallCoord=u+16*s.yroom*11,this.alignHorizTiles()),this.stop(),o.abrupt("return");case 62:o.next=76;break;case 64:if(!this.falling){o.next=76;break}if(this.falling=!1,d!==w.TRAMPOLINE){o.next=70;break}this.status=H.BOUNCING,this.set(F,u-1),o.next=75;break;case 70:if(!(u+16*s.yroom*11-this.fallCoord>=32)){o.next=75;break}return o.next=73,this.deadFall(s);case 73:return o.next=75,n.handleDeath();case 75:return o.abrupt("return");case 76:if(this.status==H.GOING_TO_ROPE&&(this.status=H.IN_ROPE,this.move(r.UP,0)),this.status===H.IN_ROPE||t||!e){o.next=84;break}if(![r.RIGHT,r.LEFT].includes(e)){o.next=84;break}if(s.getTileMaterial(E,f).material!==w.ROPE){o.next=84;break}return this.status=H.GOING_TO_ROPE,this.dstPos={x:16*E,y:u},o.abrupt("return");case 84:if(!t){o.next=105;break}if(![r.RIGHT,r.LEFT].includes(t)){o.next=101;break}if(!$(this,s,t)){o.next=100;break}if(this.status!=H.IN_ROPE){o.next=97;break}if(this.status=H.STANDING,t!==r.RIGHT){o.next=94;break}return this.dstPos={x:F+16,y:u},o.abrupt("return");case 94:if(t!==r.LEFT){o.next=97;break}return this.dstPos={x:F-16,y:u},o.abrupt("return");case 97:this.move(t),o.next=101;break;case 100:this.stop();case 101:t==r.UP&&(y=Math.floor(B/16)-1,(m=s.getTileMaterial(E,y).material)==w.ROPE||m==w.ROPE_START?(this.status=H.IN_ROPE,this.alignHorizTiles(),this.move(t)):this.stop()),t==r.DOWN&&(d==w.ROPE||d==w.ROPE_START?(this.status=H.IN_ROPE,this.alignHorizTiles(),this.move(t)):this.stop()),o.next=106;break;case 105:this.stop();case 106:case"end":return o.stop()}}),o,this)})).bind(this),function(){var n=this,t=arguments;return new Promise((function(e,r){var i=o.apply(n,t);function s(n){_(i,e,r,s,a,"next",n)}function a(n){_(i,e,r,s,a,"throw",n)}s(void 0)}))})();var o}},{key:"grabBomb",value:function(){this.hasBomb=!0,this.bombPos.x=this.xpos,this.bombPos.y=this.ypos,this.bomb.add(this.container)}},{key:"dropBomb",value:function(n){this.hasBomb=!1,this.bombPos.x=this.xpos,this.bombPos.y=this.ypos,this.container.removeChild(this.bomb.container),this.bombTile.parent&&this.bombTile.parent.removeChild(this.bombTile),n.container.addChild(this.bombTile),this.bombTile.visible=!0,this.bombTile.position.x=this.xpos/16*16,this.bombTile.position.y=this.ypos/16*16,this.bombRoom=n}},{key:"explodeBomb",value:function(n){var t=this,e=Math.floor((this.bombPos.x+8)/16)-1,r=Math.floor(this.bombPos.y/16);this.bombAnimations.visible=!0,this.bombAnimations.children.forEach((function(o){var i=n.getTileMaterial(e,r,t.bombRoom),s=i.material,a=i.room,F=i.tileIndex;s!=w.WALL&&s!=w.BOMB_ACTIVE||a.replaceTile(F,0),o.start({x:e,y:r}),G.play();var u=16*e-15,l=16*e,c=t.bombPos.y-2,B=t.bombPos.y+18;e+=1,a.parrots&&a.parrots.forEach((function(t){t.xpos>=u&&t.xpos<=l&&t.ypos>=c&&t.ypos<=B&&t.die(n)})),t.xpos>=u&&t.xpos<l&&t.ypos>c&&t.ypos<B&&t.die(n)})),this.bombTile.visible=!1}},{key:"die",value:function(n){var t=Math.floor((this.xpos+8)/16)-1,e=Math.floor((this.ypos+8)/16),r=n.getTileMaterial(t+1,e).material;this.animationsContainer.visible=!0,this.pixiSprite.visible=!1,(r==w.ROPE_START?this.deadExplodeAnimationRope:this.deadExplodeAnimation).start({x:t+1,y:e},!0)}},{key:"suicide",value:function(n){var t=Math.floor((this.xpos+8)/16)-1,e=Math.floor((this.ypos+8)/16),r=n.getTileMaterial(t+1,e).material;this.animationsContainer.visible=!0,this.bombAnimations.visible=!0,this.pixiSprite.visible=!1,G.play(),(r==w.ROPE_START?this.deadExplodeAnimationRope:this.deadExplodeAnimation).start({x:t+1,y:e},!0),this.bombAnimations.children.forEach((function(n){n.start({x:t++,y:e})}))}},{key:"deadFall",value:function(n){var t=Math.floor((this.xpos+8)/16),e=Math.floor((this.ypos+8)/16),r=n.getTileMaterial(t,e).material;this.animationsContainer.visible=!0,this.pixiSprite.visible=!1,U.play();var o=r==w.ROPE_START?this.deadFallAnimationRope:this.deadFallAnimation;return o.start({x:t,y:e},!0),new Promise((function(n){return o.onComplete=n}))}}],e&&k(t.prototype,e),u}(c);function X(n){return 1&n}var $=function(n,t,e){var o;o=e==r.RIGHT?Math.floor(n.xpos/16)+1:Math.floor((n.xpos+15)/16)-1;var i=Math.floor((n.ypos+3)/16);if(X(t.getTileMaterial(o,i).material))return!1;var s=Math.floor((n.ypos+13)/16);return!X(t.getTileMaterial(o,s).material)},V=function n(t){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.textures=[],this.data=t.split(/\s+/).map((function(n){return parseInt(n,16)}));for(var e=this.data,r=0;r<e.length/8;r++){for(var o=new Uint8Array(256),i=0,a=0;a<8;a++){for(var F=e[8*r+a],u=7;u>=0;u--){var l=1&F;F>>=1,o[i+u]=l?255:0}i+=8}this.textures.push(s.xEZ.fromBuffer(new Uint8Array(o.buffer),8,8,{format:s.I2L.LUMINANCE}))}};function K(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Z(n){return Z=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Z(n)}function J(n,t){return!t||"object"!==Q(t)&&"function"!=typeof t?function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n):t}function q(n,t){return q=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n},q(n,t)}var Q=function(n){return n&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n};var nn=function(n){!function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&q(n,t)}(a,n);var t,e,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}(),function(){var n,t=Z(r);if(o){var e=Z(this).constructor;n=Reflect.construct(t,arguments,e)}else n=t.apply(this,arguments);return J(this,n)});function a(n,t,e){var r;return function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this)).font=n,r.sprites=[],r.update(t),r}return t=a,(e=[{key:"update",value:function(n){var t=this;this.text=n;var e=0,r=0;(function(n){return n.toUpperCase().split("").map((function(n){return n.charCodeAt(0)}))})(n).forEach((function(n){if(n>=45){var o=t.font.textures[n-44],i=t.sprites[r]||new s.jyi;i.texture=o,i.position.x=8*e+1,i.position.y=n>=65?0:-1,t.sprites[e]||(t.addChild(i),t.sprites.push(i)),r++}e++}));for(var o=r;r<this.sprites.length;){var i=this.sprites[r++];this.removeChild(i),i.destroy()}this.sprites.length=o}},{key:"add",value:function(n){n.addChild(this)}},{key:"remove",value:function(n){n.removeChild(this)}}])&&K(t.prototype,e),a}(s.W20),tn=function(n){var t=[],e=[];n.forEach((function(n){t.push(15&n),e.push(n>>4)})),t=t.concat(e);var r=new Uint32Array(t.map((function(n){return u[n]}))),o=s.xEZ.fromBuffer(new Uint8Array(r.buffer),8,2,{format:s.I2L.RGBA,scaleMode:s.aH$.NEAREST});return new s.wn$(void 0,"\nvarying vec2 vTextureCoord;\nuniform sampler2D palette;\nuniform sampler2D uSampler;\n\nvoid main(){\n   // Get bit pattern\n   vec4 pattern = texture2D(uSampler, vTextureCoord);\n   gl_FragColor = texture2D(palette, vec2( vTextureCoord.y * 2.0 + 0.09, pattern.r ));\n}\n",{palette:o})},en="00 00 00 00 00 60 60 20\n 40 00 00 00 3E 3E 00 00\n 00 00 00 00 00 00 18 18 \n 00 00 03 06 0C 18 30 60 \n 00 3E 77 77 77 77 77 3E \n 00 1C 3C 1C 1C 1C 1C 3E \n 00 3E 77 07 0E 3C 70 7F \n 00 3E 77 07 0E 07 77 3E \n 00 0E 1E 2E 4E 7F 0E 0E \n 00 7F 70 7E 77 07 77 3E \n 00 3E 77 70 7E 77 77 3E \n 00 7F 07 0E 1C 1C 1C 1C \n 00 3E 77 77 3E 77 77 3E \n 00 3E 77 77 3F 07 77 3E \n 00 00 30 30 00 30 30 00 \n 00 30 30 30 30 00 30 30 \n 00 0C 18 18 18 18 18 0C \n 00 00 3E 3E 00 3E 3E 00 \n 00 18 0C 0C 0C 0C 0C 18 \n 00 3E 77 67 0E 0C 00 0C \n 00 00 00 00 00 00 00 00\n 3E 77 77 7F 77 77 77 00\n 7E 77 77 7E 77 77 7E 00\n 3E 77 77 70 77 77 3E 00\n 7E 77 77 77 77 77 7E 00\n 7F 70 70 7C 70 70 7F 00\n 7F 70 70 7C 70 70 70 00\n 3E 73 70 77 73 73 3E 00\n 77 77 77 7F 77 77 77 00\n 3E 1C 1C 1C 1C 1C 3E 00\n 07 07 07 77 77 77 3E 00\n 77 77 77 7E 77 77 77 00\n 70 70 70 70 70 70 7F 00\n 77 7F 7F 77 77 77 77 00\n 67 77 7F 7F 7F 77 73 00\n 3E 77 77 77 77 77 3E 00\n 7E 77 77 77 7E 70 70 00\n 3E 77 77 77 77 76 3B 00\n 7E 77 77 77 7E 77 77 00\n 3E 77 70 3E 07 77 3E 00\n 7F 1C 1C 1C 1C 1C 1C 00\n 77 77 77 77 77 77 3E 00\n 77 77 77 77 36 1C 08 00\n 77 77 77 77 7F 7F 77 00\n 77 77 77 3E 77 77 77 00\n 77 77 77 3E 1C 1C 1C 00\n 7F 07 0E 1C 38 70 7F 00\n 14 00 3E 77 7F 77 77 00\n 14 00 3E 77 77 77 3E 00\n 08 00 3E 77 7F 77 77 00\n E0 80 E8 B8 FE 2D 05 06\n 0C 18 3F 71 3F 18 0C 00\n 00 00 00 00 00 00 00 00";function rn(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var on=function(){function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.sep=new s.TCu,this.sep.beginFill(u[13]),this.sep.drawRect(0,177,256,1),this.sep.position.set(0,0),this.font=new V("7C EE E0 7C 0E EE 7C 00\n7C EE EE E0 EE EE 7C 00 \n7C EE EE EE EE EE 7C 00 \nFC EE EE FC EE EE EE 00 \nFC E3 E3 F0 E3 E3 FC 00 \n3E 77 77 77 77 77 3E 00 \n3E 77 77 77 77 77 3E 00 \n3E 77 77 77 77 77 3E 00 \n3E 77 77 77 77 77 3E 00 \n3E 77 77 77 77 77 3E 00 \n3E 77 77 77 77 77 3E 00 \n00 00 00 00 00 00 00 00\n7F 5D 1C 1C 1C 1C 1C 00 \n 76 77 77 77 77 77 77 00 \n 37 77 F7 F7 77 77 77 00 \n E0 18 18 80 18 18 E0 00 \n 3E 77 77 77 77 77 3E 00 \n 3E 77 77 77 77 77 3E 00 \n 3E 77 77 77 77 77 3E 00 \n 00 00 00 00 00 00 00 00 \n 3C 6E DF FF FF FF 7E 3C \n 3E 77 07 1E 07 77 3E 00 \n 3E 77 07 0E 38 70 7F 00 \n 00 00 00 00 00 00 00 00 \n 1E 3F 3F 3F 1E 1E 0C 0C \n 3E 77 07 1E 07 77 3E 00 \n 3E 77 07 0E 38 70 7F 00 \n 00 00 00 00 00 00 00 00 \n 3E 04 3A 7F 3E 5D 14 1E \n 3E 77 07 0E 07 77 3E 00 \n 00 00 00 00 00 00 00 00 \n 01 01 0D 01 01 01 01 01 \n 01 01 0D 01 01 01 01 01 \n 01 01 0D 01 01 01 01 01 \n 01 01 0D 01 01 01 01 01 \n 01 01 0D 01 01 01 01 01 \n 01 01 0D 01 01 01 01 01 \n 01 01 0D 01 01 01 01 01 \n 01 01 0D 01 01 01 01 01 \n 01 01 0D 01 01 01 01 01 \n 01 01 0D 01 01 01 01 01 \n 01 01 0D 01 01 01 01 01 \n 01 01 0D 01 01 01 01 01 \n 01 01 0D 01 01 01 01 01 \n 01 01 0D 01 01 41 41 41 \n 01 01 0D 01 01 41 41 41 \n 01 01 0D 01 01 41 41 41 \n 01 01 0D 01 01 41 41 41 \n 01 01 0D 01 01 01 01 01 \n 01 01 0D 01 01 01 01 01 \n 01 01 0D 01 01 01 01 01 \n 01 01 0D 01 01 01 01 01 \n 01 01 0D 01 F1 F1 F1 F1 \n 01 01 0D 01 01 01 71 71 \n 01 01 0D 01 01 01 71 71 \n 01 01 0D 01 01 01 71 71 \n 01 01 0D 01 C1 C1 C1 C1 \n 01 01 0D 01 01 01 71 71\n 01 01 0D 01 01 01 71 71\n 01 01 0D 01 01 01 01 01 \n 01 01 0D 01 01 41 41 41 \n 01 01 0D 01 01 01 01 01 \n 01 01 0D 01 01 01 01 01 \n 01 01 01 01 01 01 01 01 \n C1 21 31 B1 71 51 41 01 \n C1 21 31 B1 71 51 41 01 \n C1 21 31 B1 71 51 41 01 \n C1 21 31 B1 71 51 41 01 \n C1 21 31 B1 71 51 41 01 \n C1 21 31 B1 71 51 41 01 \n C1 21 31 B1 71 51 41 01 \n C1 21 31 B1 71 51 41 01 \n C1 21 31 B1 71 51 41 01 \n C1 21 31 B1 71 51 41 01 \n C1 21 31 B1 71 51 41 01 \n 91 91 91 91 91 91 91 01 \n C1 21 31 B1 71 51 41 41 \n C1 21 31 B1 71 51 41 F1 \n C1 21 31 B1 71 51 41 41 \n C1 21 31 B1 71 51 41 41 \n C1 21 31 B1 71 51 41 01 \n C1 21 31 B1 71 51 41 01 \n C1 21 31 B1 71 51 41 01 \n 91 91 91 91 91 91 91 01 \n 81 81 81 81 81 81 81 81 \n 51 51 51 51 51 51 51 01");var t=new V(en);this.score=new nn(t,"000000"),this.time=new nn(t,"000"),this.bomb=new nn(t,"00"),this.lives=new nn(t,"3"),this.carrots=new nn(t,"00")}var t,e;return t=n,(e=[{key:"add",value:function(n){n.addChild(this.sep);for(var t=tn([1,193,33,49,177,113,81,65]),e=tn([81,81,81,81,81,81,81,81]),r=tn([129,129,129,129,129,129,129,129]),o=tn([97,97,97,97,97,97,97,97]),i=tn([49,49,49,49,49,49,49,49]),a=tn([65,65,244,65,65,65,65,65]),F=tn([113,113,113,113,113,113,113,113]),u=0;u<5;u++){var l=this.font.textures[u],c=new s.jyi(l);c.position.x=8*u+1,c.position.y=182,c.filters=[t],n.addChild(c)}for(this.score.filters=[t],n.addChild(this.score),this.score.position.x=8*u+1,this.score.position.y=182,u+=this.score.text.length+1;u<16;u++){var B=this.font.textures[u],E=new s.jyi(B);E.position.x=8*u+1,E.position.y=182,E.filters=[t],n.addChild(E)}for(this.time.filters=[t],n.addChild(this.time),this.time.position.x=8*u+1,this.time.position.y=182,u+=this.time.text.length+1;u<21;u++){var f=this.font.textures[u],p=new s.jyi(f);p.position.x=8*u+1,p.position.y=182,p.filters=[r],n.addChild(p)}for(this.bomb.filters=[e],n.addChild(this.bomb),this.bomb.position.x=8*u+1,this.bomb.position.y=182,u+=this.bomb.text.length+1;u<25;u++){var h=this.font.textures[u],C=new s.jyi(h);C.position.x=8*u+1,C.position.y=182,C.filters=[o],n.addChild(C)}for(this.carrots.filters=[i],n.addChild(this.carrots),this.carrots.position.x=8*u+1,this.carrots.position.y=182,u+=this.carrots.text.length+1;u<29;u++){var v=this.font.textures[u],d=new s.jyi(v);d.position.x=8*u+1,d.position.y=182,d.filters=[a],n.addChild(d)}this.lives.filters=[F],n.addChild(this.lives),this.lives.position.x=8*u+1,this.lives.position.y=182,u+=this.lives.text.length+1}},{key:"update",value:function(n,t,e){this.score.update("123456"),this.time.update("375"),this.lives.update("".concat(t)),this.bomb.update("".concat(Math.round(e/100)).padStart(2,"0")),this.carrots.update("".concat(n).padStart(2,"0"))}}])&&rn(t.prototype,e),n}();function sn(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function an(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Fn(n){return Fn=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Fn(n)}function un(n,t){return!t||"object"!==cn(t)&&"function"!=typeof t?function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n):t}function ln(n,t){return ln=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n},ln(n,t)}var cn=function(n){return n&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n};var Bn,En="3F 7F 7F 00 00 00 00 00\n00 00 00 00 00 00 00 00\nFC FE FE 00 00 00 00 00\n00 00 00 00 00 00 00 00",fn=function(n){!function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&ln(n,t)}(a,n);var t,e,o,i,s=(o=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}(),function(){var n,t=Fn(o);if(i){var e=Fn(this).constructor;n=Reflect.construct(t,arguments,e)}else n=t.apply(this,arguments);return un(this,n)});function a(n,t){var e;return function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(e=s.call(this,(an(Bn={},r.LEFT,[[{pattern:En,color:13}]]),an(Bn,r.RIGHT,[[{pattern:En,color:13}]]),an(Bn,r.UP,[[{pattern:En,color:13}]]),an(Bn,r.DOWN,[[{pattern:En,color:13}]]),Bn))).start=n,e.end=t,e.set(n.x,n.y),e.direction=r.UP,e}return t=a,(e=[{key:"tick",value:function(n){var t=n.xpos,e=n.ypos-(this.ypos-16);t==this.xpos&&Math.abs(e)<=4?n.elevator=this:n.elevator==this&&(n.elevator=void 0),this.ypos==this.end.y?this.direction=r.DOWN:this.ypos==this.start.y&&(this.direction=r.UP),this.move(this.direction,.5),n.elevator==this&&n.set(this.xpos,this.ypos-16)}}])&&sn(t.prototype,e),a}(c);function pn(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function hn(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Cn(n){return Cn=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Cn(n)}function vn(n,t){return!t||"object"!==yn(t)&&"function"!=typeof t?function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n):t}function dn(n,t){return dn=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n},dn(n,t)}var yn=function(n){return n&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n};var mn=function(n){!function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&dn(n,t)}(s,n);var t,e,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}(),function(){var n,t=Cn(r);if(o){var e=Cn(this).constructor;n=Reflect.construct(t,arguments,e)}else n=t.apply(this,arguments);return vn(this,n)});function s(n,t){var e,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return pn(this,s),(e=i.call(this,n)).steps=t,e.stepSize=r,e.stepIndex=0,e.set(240&t[0],(15&t[0])<<4),e}return t=s,(e=[{key:"tick",value:function(){var n=this.stepIndex;this.steps[n],this.steps[n],n=(n+1)%this.steps.length;var t=240&this.steps[n],e=(15&this.steps[n])<<4;this.moveTo(t,e,this.stepSize)&&(this.stepIndex=(this.stepIndex+1)%this.steps.length)}}])&&hn(t.prototype,e),s}(c);function bn(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function An(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function xn(n,t,e){return xn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(n,t,e){var r=function(n,t){for(;!Object.prototype.hasOwnProperty.call(n,t)&&null!==(n=Dn(n)););return n}(n,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(e):o.value}},xn(n,t,e||n)}function Dn(n){return Dn=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Dn(n)}function On(n,t){return!t||"object"!==Tn(t)&&"function"!=typeof t?function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n):t}function Pn(n,t){return Pn=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n},Pn(n,t)}var Tn=function(n){return n&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n};var Rn,wn=["00 00 01 03 03 03 03 07\n07 07 07 07 03 00 00 00\n00 00 C0 80 80 C0 C0 C0\nE0 F0 F0 F0 E0 00 00 00","00 00 08 0C 04 20 18 08\n20 18 08 00 0C 11 03 07\n00 00 00 60 58 3C 3C 04\n00 00 00 00 00 C0 F8 E0","00 00 08 0C 04 20 18 08\n20 18 08 00 0C 11 03 00\n00 00 00 60 58 3C 3C 04\n00 00 00 00 00 C0 E0 F0","00 00 03 01 01 03 03 03\n07 0F 0F 0F 07 00 00 00\n00 00 80 C0 C0 C0 C0 E0\nE0 E0 E0 E0 C0 00 00 00","00 00 00 06 1A 3C 3C 20\n00 00 00 00 00 03 1F 07\n00 00 10 30 20 04 18 10\n04 18 10 00 30 88 C0 E0","00 00 00 06 1A 3C 3C 20\n00 00 00 00 00 03 07 0F\n00 00 10 30 20 04 18 10\n04 18 10 00 30 88 C0 00","00 00 03 06 07 06 07 0E\n 0E 0F 0E 0E 07 00 00 00\n 00 00 80 C0 C0 C0 C0 E0\n E0 E0 E0 E0 C0 00 00 00","00 00 00 01 00 01 00 01\n 01 00 01 01 00 07 00 01\n 00 00 00 00 00 00 00 00\n 00 00 00 00 00 80 80 C0","00 00 00 01 00 01 00 01\n 01 00 01 01 00 03 02 07\n 00 00 00 00 00 00 00 00\n 00 00 00 00 00 C0 00 00","03 0F 0F 1F 1F 1F 1F 0F\n 0F 03 00 00 00 00 00 00\n C0 F0 F0 F8 F8 F8 F8 F0\n F0 C0 00 00 00 00 00 00","3F 7F 7F 00 00 00 00 00\n 00 00 00 00 00 00 00 00\n FC FE FE 00 00 00 00 00\n 00 00 00 00 00 00 00 00"],gn=function(n){!function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&Pn(n,t)}(F,n);var t,e,o,i,a=(o=F,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}(),function(){var n,t=Dn(o);if(i){var e=Dn(this).constructor;n=Reflect.construct(t,arguments,e)}else n=t.apply(this,arguments);return On(this,n)});function F(n){var t;return function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,F),(t=a.call(this,(An(Rn={},r.RIGHT,[[{pattern:wn[0],color:2},{pattern:wn[1],color:11}],[{pattern:wn[0],color:2},{pattern:wn[2],color:11}]]),An(Rn,r.LEFT,[[{pattern:wn[3],color:2},{pattern:wn[4],color:11}],[{pattern:wn[3],color:2},{pattern:wn[5],color:11}]]),An(Rn,r.UP,[[{pattern:wn[6],color:2},{pattern:wn[7],color:11}],[{pattern:wn[6],color:2},{pattern:wn[8],color:11}]]),An(Rn,r.DOWN,[[{pattern:wn[6],color:2},{pattern:wn[7],color:11}],[{pattern:wn[6],color:2},{pattern:wn[8],color:11}]]),Rn),n)).animationsContainer=new s.W20,t.dead=!1,t.dieAnimation=new g([33,34,35,36,31]),t.dieAnimationRope=new g([33,34,35,36,32]),t.animationsContainer.addChild(t.dieAnimation,t.dieAnimationRope),t}return t=F,(e=[{key:"add",value:function(n){xn(Dn(F.prototype),"add",this).call(this,n),n.addChild(this.animationsContainer)}},{key:"die",value:function(n){var t=Math.floor((this.xpos+8)/16),e=Math.floor((this.ypos+8)/16),r=n.getTileMaterial(t,e).material;this.animationsContainer.visible=!0,this.pixiSprite.visible=!1;var o=r==w.ROPE_START?this.dieAnimationRope:this.dieAnimation;return o.start({x:t,y:e},!0),this.dead=!0,new Promise((function(n){return o.onComplete=n}))}}])&&bn(t.prototype,e),F}(mn);function _n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var kn=function(){function n(t,e,r,o){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.textures=t,this.container=new s.W20,this.tiles=e.split(/\s+/).map((function(n){return parseInt(n,16)}));for(var i=0;i<11;i++)for(var a=0;a<16;a++){var F=16*i+a;if(F>=this.tiles.length)return;var u=s.jyi.from(this.textures[this.tiles[F]]);u.position.set(16*a,16*i),this.container.addChild(u)}if(r){var l=this;this.elevators=r.map((function(n){return new fn(n.start,n.end)})),this.elevators.forEach((function(n){return n.add(l.container)}))}o&&(this.parrots=o.map((function(n){return new gn(n)})))}var t,e;return t=n,e=[{key:"tick",value:function(n,t){if(this.elevators&&this.elevators.forEach((function(n){return n.tick(t)})),this.parrots){var e=this.parrots.filter((function(n){return!n.dead}));e.forEach((function(n){return n.tick()}));var r=e.some((function(n){return n.checkCollision(t)}));r&&t.die(n)}}},{key:"updateParrot",value:function(n){var t=n.stepIndex,e=240&n.steps[t],o=(15&n.steps[t])<<4;t=(t+1)%n.steps.length;var i=240&n.steps[t],s=(15&n.steps[t])<<4,a=i-e,F=s-o,u=a>0?r.RIGHT:a<0?r.LEFT:F>0?r.DOWN:r.UP;n.sprite.move(u,1),n.sprite.xpos==i&&n.sprite.ypos==s&&(n.stepIndex=(n.stepIndex+1)%n.steps.length)}},{key:"count",value:function(n){return this.tiles.reduce((function(t,e){return t+(e===n?1:0)}),0)}},{key:"addLevel",value:function(n){var t;n.addChild(this.container),null===(t=this.parrots)||void 0===t||t.forEach((function(t){t.add(n)}))}},{key:"remove",value:function(n){var t;n.removeChild(this.container),null===(t=this.parrots)||void 0===t||t.forEach((function(t){t.remove(n)}))}},{key:"replaceTile",value:function(n,t){this.container.getChildAt(n).texture=this.textures[t],this.tiles[n]=t}}],e&&_n(t.prototype,e),n}(),In=[w.EMPTY,w.FLOOR,w.WALL,w.ROPE,w.WALL,w.WALL,w.WALL,w.PIPE,w.PIPE_START,w.PIPE_START,w.PIPE,w.ROPE_START,w.RIGHT_BELT,w.RIGHT_BELT,w.RIGHT_BELT,w.LEFT_BELT,w.LEFT_BELT,w.LEFT_BELT,w.PIPE_END,w.PIPE_END,w.FLOOR,w.BOMB,w.CARROT,w.BOMB_ACTIVE,w.BOMB_EXPLOSION,w.BOMB_EXPLOSION,w.BOMB_EXPLOSION,w.BOMB_EXPLOSION,w.TRAMPOLINE,w.TRAMPOLINE,w.TRAMPOLINE,w.DEAD_PARROT,w.DEAD_PARROT_ROPE,w.DEAD_PARROT,w.DEAD_PARROT,w.DEAD_PARROT,w.DEAD_PARROT,w.DEAD_FLUFFY,w.DEAD_FLUFFY,w.DEAD_FLUFFY,w.DEAD_FLUFFY,w.DEAD_FLUFFY,w.DEAD_FLUFFY],Ln=[{rooms:["14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14\n14 03 00 00 00 00 00 03 00 03 00 00 00 00 00 02 \n14 03 0C 0D 0D 0D 0E 03 00 03 00 00 16 00 00 02 \n14 03 00 00 00 00 03 03 00 03 01 01 01 01 00 02 \n14 03 00 01 01 01 03 03 00 03 00 00 03 00 00 02 \n14 03 00 03 00 00 03 0B 00 0B 00 16 03 00 00 02 \n14 0B 16 03 00 00 03 01 01 01 01 01 03 00 00 02 \n14 01 01 03 00 00 03 00 00 03 00 00 03 00 00 00 \n14 00 00 03 00 00 03 00 00 03 00 00 0B 16 00 00 \n14 00 00 0B 00 16 0B 01 01 03 00 00 01 01 01 01 \n14 01 01 01 01 01 00 00 00 03 00 00 00 00 00 00","14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 \n02 03 16 00 09 08 00 03 00 02 00 00 00 03 00 14 \n02 03 01 04 07 06 00 03 00 02 00 00 00 03 00 14 \n02 03 00 00 0A 00 00 03 01 01 0D 0D 0E 03 16 14 \n02 03 00 00 0A 00 16 03 00 00 00 00 00 03 01 14 \n02 03 00 00 0A 00 01 03 00 16 00 00 15 03 03 14 \n02 03 00 00 12 13 00 03 00 01 01 01 01 03 03 14\n00 03 00 15 00 00 00 0B 00 03 00 00 00 0B 03 14\n00 0B 00 01 01 01 01 01 00 03 16 00 09 08 03 14 \n01 01 00 00 00 00 00 00 00 03 01 04 07 06 03 14\n00 02 00 01 01 00 00 00 00 03 00 03 0A 00 03 14","14 01 01 01 01 01 00 00 00 03 00 00 00 00 00 00 \n14 00 00 03 00 00 00 16 00 03 00 00 00 16 00 00 \n14 16 00 03 01 01 01 01 00 03 01 01 01 01 01 01 \n14 01 01 03 00 00 00 00 00 03 00 02 00 03 00 00 \n14 03 00 0B 15 09 08 00 00 0B 00 02 00 03 16 00 \n14 03 01 01 04 07 06 05 00 01 01 02 01 03 01 01 \n14 0B 00 03 00 0A 00 00 00 00 00 02 00 03 00 02 \n14 01 01 03 00 0A 00 0F 10 11 00 02 00 03 15 02 \n14 00 02 03 00 12 13 00 00 00 00 02 00 03 01 02 \n14 16 02 0B 00 00 15 00 16 00 00 02 00 0B 01 02 \n14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14","00 02 00 01 01 00 00 00 00 03 00 03 0A 00 03 14 \n00 02 00 03 00 15 00 00 00 0B 00 03 0A 00 03 14 \n01 02 00 03 00 01 01 01 01 01 01 03 0A 00 03 14 \n00 02 00 0B 01 01 00 16 00 03 02 03 0A 16 0B 14 \n00 02 01 01 01 01 00 01 01 03 02 03 0A 06 01 14 \n01 01 01 01 00 03 00 00 00 03 02 03 0A 00 03 14 \n02 00 00 03 00 03 00 00 00 0B 02 03 0A 00 03 14 \n02 15 00 03 00 03 0C 0D 0D 01 02 0B 0A 00 03 14 \n02 01 01 03 00 03 00 00 00 00 02 00 12 13 03 14 \n02 16 00 0B 00 0B 00 00 00 00 02 00 00 15 0B 14 \n14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14"],startPos:{x:16,y:143},startRoom:{x:0,y:0},parrots:[{room:0,steps:[22,54,57,89,57,54]},{room:0,steps:[146,149,181,149,146,178]},{room:3,steps:[97,161]},{room:3,steps:[89,137]},{room:2,steps:[153,57]}]},{rooms:["14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14\n14 03 00 00 00 00 00 00 00 00 00 00 00 00 00 00 \n14 03 0F 10 10 10 10 10 10 10 10 10 10 10 10 10 \n14 0B 00 00 00 00 03 15 00 00 00 03 00 00 00 03 \n14 0D 0E 00 00 00 03 01 01 01 00 03 00 00 00 03 \n14 03 16 0C 0D 0E 03 00 00 00 01 03 01 00 00 0B \n14 03 01 00 16 00 0B 00 00 00 00 03 00 01 01 01 \n14 03 00 00 01 01 01 00 00 01 00 03 00 00 00 00 \n14 0B 00 00 15 03 00 16 00 02 00 0B 0F 10 10 10 \n14 01 01 01 01 03 00 01 01 01 01 01 00 00 00 00 \n14 00 00 03 00 03 00 03 00 00 00 03 00 00 00 00","14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 \n00 00 03 00 16 00 09 08 03 00 00 00 00 00 00 14 \n10 11 03 01 01 04 07 06 03 00 00 00 00 00 00 14 \n03 16 03 00 16 00 0A 00 03 01 01 01 00 00 00 14 \n03 01 03 01 01 00 0A 00 03 00 00 00 00 00 15 14 \n0B 00 03 00 16 00 0A 00 03 00 16 00 00 01 01 14 \n01 00 03 01 01 00 0A 00 03 01 01 00 00 00 00 14 \n00 00 03 00 00 00 0A 00 03 15 16 00 00 00 16 14 \n10 11 03 00 16 00 0A 00 03 01 01 00 00 01 01 14 \n00 00 03 01 01 00 0A 00 03 16 00 00 00 03 00 14 \n00 00 03 00 00 00 0A 00 03 01 00 00 00 03 00 14","14 00 00 03 00 03 00 03 00 00 00 03 00 00 00 00 \n14 15 00 03 15 0B 00 03 01 01 01 03 00 00 01 01 \n14 01 01 03 01 01 01 0B 00 00 00 03 00 00 00 00 \n14 00 00 03 00 02 00 00 00 00 00 03 00 00 00 00 \n14 01 00 03 00 02 00 00 15 16 00 0B 00 00 01 01 \n14 16 00 03 00 02 16 00 01 01 01 01 01 00 00 00 \n14 01 01 03 01 01 01 00 03 16 00 00 00 00 00 16 \n14 00 00 03 00 00 16 00 0B 01 01 01 01 00 00 01 \n14 00 00 0B 00 00 01 01 01 03 00 00 00 00 00 00 \n14 00 16 00 00 00 00 00 00 0B 01 01 01 00 01 16 \n14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14","00 00 03 00 16 00 0A 00 03 01 00 00 00 03 00 14 \n01 01 03 01 01 00 0A 00 03 00 00 00 00 03 00 14 \n00 02 03 00 03 00 0A 00 03 00 01 01 00 03 00 14 \n00 02 03 01 03 00 0A 00 03 00 03 02 00 0B 16 14 \n01 01 0B 00 03 00 0A 00 03 00 03 01 01 01 01 14 \n00 03 00 00 03 00 0A 00 03 00 0B 00 00 00 03 14 \n00 03 01 01 03 00 0A 00 03 00 01 01 01 01 03 14 \n01 03 00 00 0B 00 0A 00 03 00 00 00 00 00 0B 14 \n00 03 00 00 00 00 12 13 03 00 16 01 01 01 01 14 \n00 0B 00 02 00 00 00 00 0B 00 01 00 00 00 00 14 \n14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14"],startPos:{x:176,y:127},startRoom:{x:0,y:1},elevators:[{room:2,start:{x:208,y:152},end:{x:208,y:32}},{room:1,start:{x:192,y:168},end:{x:192,y:32}}],parrots:[{room:2,steps:[25,153]},{room:3,steps:[165,229,231,229]},{room:0,steps:[24,72,24,21,37,21]}]},{rooms:["14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 \n14 00 00 00 00 03 00 00 00 00 00 15 00 03 00 00 \n14 00 15 00 00 03 00 00 00 00 01 01 01 03 00 00 \n14 01 01 01 01 03 00 01 01 01 00 00 00 03 01 01 \n14 16 00 02 00 03 01 03 00 00 00 00 00 03 03 00 \n14 01 01 01 01 03 00 03 00 00 00 09 08 03 03 00 \n14 00 00 00 00 03 00 03 01 01 04 07 06 0B 03 00 \n14 00 09 08 00 0B 00 0B 02 03 00 12 13 00 03 00 \n14 04 07 06 05 01 01 01 01 03 15 00 00 00 0B 00 \n14 00 0A 00 00 00 03 03 03 03 01 01 01 01 01 01 \n14 00 0A 00 00 00 03 0B 0B 0B 00 00 00 00 00 00","14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 \n00 00 00 00 00 00 03 00 00 03 00 00 16 00 03 14 \n00 00 15 00 00 00 03 01 01 03 01 01 01 01 03 14 \n01 01 01 01 01 01 03 00 00 0B 15 00 00 00 03 14 \n00 02 00 00 00 00 03 01 01 01 01 01 01 01 03 14 \n00 02 00 15 00 16 0B 00 00 02 00 03 00 02 0B 14 \n00 02 01 01 01 01 01 01 01 01 00 03 01 01 01 14 \n00 02 03 00 00 00 00 00 00 01 01 03 00 00 00 14 \n00 02 03 00 15 00 00 00 00 00 00 0B 15 16 00 14 \n01 02 03 01 01 01 01 01 00 00 01 01 01 01 01 14 \n00 02 03 00 00 00 00 03 00 00 00 00 00 00 03 14","14 00 0A 00 00 00 03 00 00 00 00 00 00 00 00 00 \n14 00 0A 00 00 00 03 0C 0D 0D 0D 0D 0D 0D 0E 00 \n14 00 0A 00 00 00 03 00 00 00 00 00 00 03 00 00 \n14 00 0A 00 16 00 03 01 01 01 00 15 00 03 00 01 \n14 00 0A 06 05 01 03 02 00 02 01 01 01 03 00 00 \n14 00 0A 00 00 00 03 02 00 02 03 03 03 03 00 00 \n14 00 0A 00 16 00 03 02 00 02 03 0B 0B 0B 00 01 \n14 00 0A 06 05 01 03 02 00 02 03 00 00 00 00 00 \n14 00 12 13 02 00 0B 01 01 01 0B 01 01 01 01 01 \n14 16 00 00 02 16 00 00 02 00 00 00 02 16 02 00 \n14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14","00 02 03 00 00 00 00 03 00 00 00 00 00 00 03 14 \n00 02 03 00 00 15 00 03 00 00 00 00 00 00 03 14 \n00 02 03 00 01 01 00 03 0F 10 10 10 10 11 03 14 \n01 02 03 00 00 00 00 03 00 00 00 00 00 00 03 14 \n00 02 03 00 15 00 00 03 15 00 00 00 00 00 03 14 \n00 02 03 01 01 01 01 03 01 01 01 01 01 01 03 14 \n01 02 03 00 00 00 02 03 00 00 00 00 00 00 03 14 \n00 02 03 00 00 00 02 0B 00 00 00 00 00 15 03 14 \n01 01 03 01 01 01 01 01 01 01 01 01 01 01 03 14 \n00 02 0B 02 16 00 02 00 15 16 00 02 00 00 0B 14 \n14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14"],startPos:{x:96,y:111},startRoom:{x:0,y:0},parrots:[{room:0,steps:[133,165]},{room:0,steps:[168,232]},{room:1,steps:[56,120]},{room:1,steps:[37,69,53,101,85,133]},{room:1,steps:[97,145,147,99]},{room:3,steps:[228,231,119,116]}]},{rooms:["14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 \n14 03 00 00 00 00 00 02 15 00 00 02 16 00 16 00 \n14 03 0C 0E 01 01 01 01 01 01 01 01 01 00 01 01 \n14 03 00 16 00 02 00 03 03 00 02 00 16 00 00 00 \n14 03 01 01 01 01 00 03 03 01 01 01 01 00 00 00 \n14 03 00 03 15 00 00 0B 0B 15 02 03 00 00 01 01 \n14 03 00 03 01 01 01 01 01 01 01 03 01 00 00 00 \n14 0B 15 0B 02 00 03 00 03 00 02 0B 00 00 00 00 \n14 01 01 01 01 01 03 00 03 01 01 01 01 00 00 00 \n14 03 03 03 00 15 0B 00 0B 15 16 03 00 00 01 01 \n14 03 03 03 01 01 01 01 01 01 01 03 00 00 00 00","14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 \n00 00 00 00 00 16 00 00 00 03 00 00 00 00 03 14 \n01 00 01 01 01 01 01 01 00 03 00 00 00 00 03 14 \n00 00 00 16 02 00 03 00 00 0B 01 01 01 01 03 14 \n00 00 01 01 01 01 03 15 09 08 00 00 02 00 03 14 \n01 00 00 00 03 00 03 04 07 06 00 00 02 15 0B 14 \n00 00 01 01 03 00 03 00 0A 00 00 00 01 01 01 14 \n00 00 00 00 03 00 0B 00 0A 00 16 00 03 00 15 14 \n00 1C 00 00 03 01 01 00 12 13 01 01 03 01 01 14 \n01 01 00 00 03 00 03 00 00 00 00 00 0B 09 08 14 \n00 00 00 00 0B 00 03 0C 0D 0D 0D 0E 04 07 06 14","14 03 0B 0B 01 01 01 01 01 01 01 03 00 00 00 00 \n14 03 00 00 00 00 03 00 00 00 16 0B 00 00 01 01 \n14 03 01 01 01 01 03 00 00 01 01 01 01 00 00 00 \n14 03 02 00 00 00 0B 00 00 00 00 03 00 00 00 00 \n14 03 02 00 01 01 01 01 01 01 01 03 01 00 01 02 \n14 03 02 16 02 00 03 00 00 02 15 0B 00 00 03 02 \n14 03 01 01 01 01 03 00 00 01 01 01 01 00 0B 15 \n14 03 00 03 15 00 0B 00 00 15 00 00 00 00 01 01 \n14 0B 00 03 01 01 01 01 01 01 01 00 00 00 00 00 \n14 00 00 0B 00 00 00 00 00 00 00 01 01 1C 00 15 \n14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14","00 00 00 00 00 00 03 0C 0D 0D 0D 0E 04 07 06 14 \n01 00 15 00 00 00 03 03 00 00 00 00 00 12 13 14 \n00 00 01 01 01 01 0B 03 00 15 00 00 00 00 00 14 \n02 00 00 15 00 00 00 03 01 01 01 01 01 01 01 14 \n02 01 01 01 01 01 01 0B 02 00 00 00 00 03 15 14 \n02 00 00 00 03 00 00 01 01 0D 0E 00 00 03 01 14 \n00 02 16 01 03 00 01 01 01 00 00 0C 0E 03 00 14 \n01 01 01 00 03 00 02 00 00 15 00 02 00 03 16 14 \n00 00 00 00 03 00 02 00 00 01 00 02 00 0B 01 14 \n00 00 00 00 0B 00 02 00 00 00 00 02 00 00 15 14 \n14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14"],startPos:{x:224,y:47},startRoom:{x:1,y:0},parrots:[{room:1,steps:[210,162]},{room:3,steps:[162,194]},{room:3,steps:[49,81]},{room:3,steps:[121,169]},{room:2,steps:[67,163]},{room:2,steps:[71,167]},{room:0,steps:[69,117,85,133,101,165]},{room:0,steps:[73,169]}]},{rooms:["14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 \n14 00 00 00 00 03 02 03 00 15 15 03 02 16 16 02 \n14 01 01 01 01 0B 02 03 0C 01 01 03 01 01 01 02 \n14 03 00 00 16 00 02 03 00 00 00 0B 00 03 00 02 \n14 03 01 01 01 01 01 03 0F 10 10 10 11 03 01 02 \n14 0B 00 03 00 00 00 03 00 00 02 03 00 03 00 02 \n14 00 00 03 0C 0D 0E 0B 01 01 01 03 00 03 01 02 \n14 01 01 0B 02 03 00 00 00 00 16 0B 00 03 00 02 \n14 03 00 00 02 0B 01 01 10 10 01 01 00 03 01 02 \n14 03 15 00 01 01 00 03 00 16 00 00 00 03 15 00 \n14 03 01 01 03 00 00 03 01 01 00 01 01 0B 01 01","14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 \n02 00 00 00 00 03 00 03 00 00 03 00 00 00 16 14 \n02 01 01 01 11 03 00 0B 01 01 03 01 00 01 01 14 \n02 00 00 00 00 03 00 00 03 00 03 00 00 00 16 14 \n02 01 01 01 11 0B 01 11 03 00 03 01 00 01 01 14 \n02 00 00 03 00 00 00 15 03 00 03 00 00 00 00 14 \n02 0D 0E 03 00 0C 0D 01 0B 00 03 00 00 00 16 14 \n02 02 15 03 00 16 00 00 01 00 03 01 00 01 01 14 \n01 01 01 03 01 01 00 00 03 00 0B 16 1C 16 03 14 \n00 03 01 0B 00 00 00 00 0B 01 01 01 01 01 03 14 \n01 03 03 01 01 01 01 01 01 00 00 00 00 00 03 14","14 03 01 01 03 00 00 03 01 01 00 01 01 00 01 01 \n14 03 00 02 03 01 01 0B 03 00 00 00 16 00 03 00 \n14 0B 01 01 0B 00 03 15 03 0C 0D 0D 01 01 0B 00 \n14 00 03 02 00 00 03 01 0B 00 00 00 00 00 00 00 \n14 00 03 01 01 01 0B 03 01 01 10 10 10 10 10 01 \n14 00 0B 15 03 00 00 03 02 03 00 03 15 00 00 03 \n14 01 01 01 03 00 15 03 02 03 00 03 01 01 00 03 \n14 00 16 00 03 00 01 03 02 03 00 0B 00 03 00 0B \n14 00 01 01 03 00 00 03 02 03 01 01 00 03 01 01 \n14 16 00 00 0B 00 00 0B 02 0B 00 02 00 0B 00 02 \n14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14","01 03 03 01 01 01 01 01 01 00 00 00 00 00 03 14 \n00 03 03 03 00 00 00 16 00 00 00 00 09 08 03 14 \n00 03 0B 03 0C 0D 0D 01 0D 01 01 04 07 06 03 14 \n00 03 01 0B 00 00 00 02 00 00 15 03 12 13 03 14 \n01 03 00 01 01 00 0F 01 01 00 01 03 16 00 03 14 \n03 0B 00 00 00 00 00 00 00 00 00 0B 01 00 03 14 \n03 01 00 0C 0E 00 0C 0D 0E 00 0E 00 00 00 03 14 \n0B 00 00 00 16 00 16 16 16 00 00 0E 00 00 03 14 \n01 01 00 01 01 00 01 01 01 00 00 00 0E 00 03 14 \n01 00 1C 00 00 1C 00 00 00 1C 01 00 15 0E 0B 14 \n14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14"],startPos:{x:32,y:15},startRoom:{x:0,y:0},parrots:[{room:0,steps:[211,216]},{room:2,steps:[41,105]},{room:2,steps:[149,152,149,151,183,151]},{room:1,steps:[57,137]},{room:1,steps:[129,161,163,179,163,161]},{room:1,steps:[164,166,182,166,168]}]},{rooms:["14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 \n14 00 00 16 00 15 03 00 00 02 00 03 03 03 00 00 \n14 00 01 01 01 01 03 01 01 01 01 03 0B 0B 01 01 \n14 00 00 09 08 00 0B 00 00 00 15 03 00 00 00 00 \n14 01 04 07 06 05 01 01 01 00 01 03 01 01 01 01 \n14 00 00 12 13 00 03 00 03 00 15 0B 01 03 15 00 \n14 00 00 00 15 16 03 00 03 01 01 01 03 03 01 01 \n14 01 01 01 01 01 03 00 03 00 16 00 03 03 00 00 \n14 03 16 00 00 00 03 00 03 01 01 01 0B 0B 00 00 \n14 03 01 01 01 01 0B 00 03 03 03 00 00 00 01 01 \n14 03 00 00 00 00 00 00 0B 0B 03 00 00 00 03 00","14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 \n00 02 03 15 00 02 15 03 00 02 16 00 02 00 03 14 \n01 01 0B 01 01 01 01 03 01 01 01 10 01 01 03 14 \n00 02 00 02 16 15 00 03 00 00 00 00 00 00 03 14 \n01 01 01 01 01 01 00 03 0C 0D 0D 0D 0D 0E 03 14 \n00 02 00 00 16 00 16 0B 03 16 00 16 15 00 0B 14 \n01 01 01 10 01 00 01 00 03 01 00 01 01 01 01 14 \n00 00 00 03 00 00 03 00 03 00 00 00 03 16 01 14 \n00 15 00 0B 02 00 0B 00 03 00 02 00 03 01 01 14 \n01 01 01 01 01 1C 00 01 0B 01 01 00 0B 00 16 14 \n00 00 00 00 00 01 01 01 01 03 00 00 01 01 01 14","14 0B 00 00 00 00 00 00 00 00 03 00 00 00 03 00 \n14 15 00 00 00 00 16 00 00 00 0B 15 00 00 03 00 \n14 01 00 00 00 01 01 01 01 00 01 01 01 01 0B 00 \n14 00 00 00 00 00 02 00 03 15 00 00 16 00 01 01 \n14 16 00 00 00 01 01 01 03 01 01 00 01 01 16 00 \n14 01 00 00 00 00 03 00 03 00 00 00 00 02 01 01 \n14 16 00 00 16 02 03 00 0B 00 00 00 00 02 16 03 \n14 01 00 00 01 01 03 00 00 0C 01 00 01 01 01 03 \n14 00 00 00 00 00 03 00 00 00 00 00 00 00 00 0B \n14 00 00 1C 00 16 0B 00 00 01 01 1C 01 01 01 01 \n14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14","00 00 00 00 00 01 01 01 01 03 00 00 01 01 01 14 \n00 00 00 00 00 00 00 00 03 03 0F 00 16 03 15 14 \n00 00 00 00 00 00 00 00 0B 0B 00 00 01 03 01 14 \n01 01 01 01 01 01 01 01 16 02 16 00 00 03 16 14 \n15 03 03 03 03 03 03 03 01 01 01 00 01 03 01 14 \n01 03 0B 0B 0B 0B 0B 03 15 00 03 00 00 03 00 14 \n03 03 00 16 00 00 16 03 01 00 03 00 01 0B 15 14 \n03 03 00 01 00 00 01 0B 00 00 03 00 03 01 01 14 \n0B 0B 00 03 0E 00 00 00 00 00 0B 00 03 02 00 14 \n01 01 01 0B 16 0C 0D 0D 0D 0D 01 1C 0B 02 16 14 \n14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14"],startPos:{x:192,y:15},startRoom:{x:0,y:1}},{rooms:["14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 \n14 16 00 03 16 02 03 00 00 00 00 15 03 02 16 00 \n14 01 00 03 01 02 03 00 01 01 01 01 03 02 01 01 \n14 16 00 03 16 02 0B 00 15 00 00 00 03 02 00 00 \n14 01 00 03 01 01 01 00 01 00 09 08 0B 00 00 00 \n14 15 1C 03 03 02 00 00 00 01 07 06 05 0F 10 10 \n14 01 01 03 03 02 00 1C 15 03 0A 00 02 03 02 00 \n14 03 00 0B 03 02 00 01 01 03 12 13 02 03 02 00 \n14 03 16 00 03 02 16 00 00 0B 00 00 00 03 02 01 \n14 03 01 00 0B 01 01 01 01 01 01 01 01 03 02 00 \n14 03 00 00 00 00 03 00 02 00 00 00 00 03 02 00","14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 \n00 00 00 00 00 00 03 00 00 00 15 02 02 03 16 14 \n01 01 01 01 01 00 03 01 01 01 01 02 01 03 01 14 \n00 00 00 00 00 00 03 03 00 09 08 02 00 03 00 14 \n00 00 00 00 00 00 0B 03 04 07 06 05 01 03 00 14 \n10 10 10 10 11 00 01 03 00 0A 00 00 03 03 00 14 \n00 00 03 16 00 00 03 0B 00 0A 00 00 03 0B 15 14 \n00 00 03 01 00 00 03 01 00 12 13 00 03 01 01 14 \n01 01 03 16 00 1C 0B 00 00 00 00 00 0B 00 03 14 \n00 00 03 01 00 01 01 00 0F 11 0C 0E 01 01 03 14 \n00 00 03 00 00 00 03 00 00 00 00 03 00 00 03 14","14 03 00 00 00 00 03 00 02 00 00 16 00 03 02 00 \n14 0B 01 01 01 00 0B 00 00 00 01 01 00 0B 03 00 \n14 16 02 15 00 00 01 01 01 00 00 15 00 15 03 01 \n14 01 01 01 00 00 00 02 15 00 01 01 00 01 0B 02 \n14 00 00 00 00 00 01 01 02 00 00 00 00 00 01 01 \n14 01 01 01 00 00 00 16 02 00 00 00 00 00 03 00 \n14 00 02 16 00 00 01 01 16 00 0C 0D 0D 0E 03 00 \n14 00 02 01 00 00 00 00 02 00 00 16 00 00 03 00 \n14 16 02 00 00 00 00 15 02 00 01 01 00 00 0B 02 \n14 01 01 01 00 1C 01 01 02 00 01 01 00 01 01 02 \n14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14","00 00 03 00 00 00 03 00 00 00 00 03 00 00 03 14 \n00 00 0B 00 00 00 03 00 00 16 00 03 16 00 03 14 \n01 00 01 01 01 01 03 00 01 01 01 03 01 00 03 14 \n02 00 16 00 15 00 03 00 00 00 02 0B 03 00 03 14 \n01 01 01 00 01 01 03 00 01 01 01 01 03 00 03 14 \n00 15 03 00 00 00 03 00 00 00 00 15 03 00 03 14 \n00 01 03 00 00 00 0B 00 15 00 00 01 03 00 03 14 \n00 00 03 01 01 01 01 00 01 01 00 16 03 00 03 14 \n02 00 0B 00 00 00 16 00 02 00 00 01 03 00 03 14 \n02 01 01 01 01 01 01 1C 02 16 00 00 0B 00 0B 14 \n14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14"],startPos:{x:16,y:63},startRoom:{x:0,y:1}},{rooms:["14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 \n14 00 00 00 00 00 15 00 00 02 03 02 03 15 00 00 \n14 00 00 01 01 0D 01 01 01 01 03 02 0B 01 00 01 \n14 16 00 00 03 16 03 00 02 16 03 01 15 16 00 00 \n14 01 00 00 03 01 03 00 01 01 0B 01 01 01 00 01 \n14 15 00 16 03 00 03 00 03 16 00 03 16 00 00 02 \n14 01 00 01 03 00 03 00 03 01 16 0B 01 01 00 01 \n14 16 00 16 0B 01 03 00 03 00 01 01 00 00 00 00 \n14 01 00 01 00 03 0B 1C 03 00 00 00 00 00 00 00 \n14 00 00 00 00 0B 01 01 0B 0F 10 10 10 11 1C 0F \n14 00 00 01 01 01 03 00 00 00 03 00 00 00 01 00","14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 \n16 00 00 03 16 00 00 03 00 03 00 00 00 00 03 14 \n01 01 01 03 01 15 16 03 00 03 16 00 00 00 03 14 \n00 02 03 03 00 01 01 03 00 0B 01 0F 10 11 03 14 \n01 01 03 03 00 00 00 03 00 02 00 00 00 00 03 14 \n02 16 0B 0B 01 01 01 03 01 01 01 0C 0E 01 0B 14 \n01 01 01 01 00 00 03 0B 00 00 00 00 00 16 16 14 \n00 00 00 00 00 00 03 01 01 01 01 01 01 01 01 14 \n00 00 00 00 15 00 0B 16 00 00 00 00 00 00 16 14 \n10 11 00 00 01 01 01 01 00 00 00 00 00 01 01 14 \n00 00 00 00 00 00 00 00 00 00 00 00 00 00 03 14","14 16 00 00 01 01 03 16 00 00 03 00 16 00 02 00 \n14 01 00 00 03 00 03 01 00 16 03 01 01 00 16 01 \n14 00 00 00 0B 01 0B 00 01 01 03 00 00 00 01 00 \n14 16 00 00 00 03 00 15 00 03 0B 00 00 00 00 16 \n14 01 00 00 00 03 01 01 11 03 00 00 02 00 01 01 \n14 16 00 00 16 03 00 00 00 03 01 01 01 00 00 00 \n14 01 00 00 01 03 0C 0D 0E 0B 00 00 03 00 01 01 \n14 15 00 00 00 0B 00 16 00 00 0F 11 03 00 00 03 \n14 01 00 00 00 01 01 01 01 01 00 00 03 00 01 03 \n14 00 1C 15 00 00 16 02 00 00 00 00 0B 1C 16 0B \n14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14","00 16 00 00 00 00 00 00 00 00 00 00 00 00 03 14 \n01 01 00 01 00 00 00 00 00 00 00 00 00 00 03 14 \n00 00 1C 16 00 00 00 00 00 00 00 00 00 00 03 14 \n00 01 01 01 00 00 00 00 00 00 00 00 00 00 03 14 \n01 00 03 00 00 00 00 00 00 00 00 00 00 00 03 14 \n00 16 03 01 00 00 00 00 1C 1C 00 00 00 00 03 14 \n01 01 0B 03 00 00 00 1C 01 01 1C 00 00 00 03 14 \n03 00 01 03 00 00 1C 01 01 01 01 1C 00 00 03 14 \n03 00 03 0B 00 1C 01 01 01 01 01 01 1C 00 03 14 \n0B 0F 0B 16 1C 01 01 01 01 01 01 01 01 1C 0B 14 \n14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14"],startPos:{x:80,y:127},startRoom:{x:1,y:0}},{rooms:["14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 \n14 16 00 00 00 03 00 00 03 00 02 16 00 00 00 00 \n14 01 01 01 01 03 00 00 03 01 01 01 00 00 00 00 \n14 03 03 03 03 03 00 00 0B 15 00 00 00 01 01 01 \n14 03 0B 0B 0B 0B 00 00 01 01 01 01 00 00 00 00 \n14 0B 15 00 00 00 00 00 03 03 03 00 00 01 01 01 \n14 01 01 01 01 01 01 00 0B 0B 0B 01 00 00 00 00 \n14 00 09 08 15 00 00 00 00 02 16 00 00 00 00 00 \n14 04 07 06 05 01 01 00 01 01 01 00 1C 00 00 00 \n14 00 0A 00 00 03 00 00 03 03 03 01 01 01 00 02 \n14 00 0A 00 00 03 00 00 0B 0B 03 00 00 00 00 02","14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 \n00 03 00 02 00 00 16 00 09 08 00 00 00 02 16 14 \n00 0B 01 01 0C 0E 01 04 07 06 00 00 01 01 01 14 \n01 01 01 00 00 03 00 00 12 13 00 00 00 00 16 14 \n00 15 00 00 00 03 00 00 00 00 00 00 0C 0D 01 14 \n01 01 01 00 00 03 0F 10 10 11 00 00 00 00 16 14 \n00 03 00 15 00 0B 15 16 00 15 15 00 01 01 01 14 \n00 03 01 01 00 01 01 01 00 01 01 00 00 02 16 14 \n00 03 00 00 00 03 00 15 00 00 00 00 01 01 01 14 \n02 0B 00 00 1C 03 01 01 01 00 00 00 00 00 03 14 \n02 02 00 00 01 03 00 00 00 02 00 00 01 01 03 14","14 00 0A 00 16 03 15 00 00 00 03 00 00 00 00 02 \n14 00 0A 06 05 03 01 00 00 00 0B 01 01 01 01 01 \n14 00 0A 00 00 03 15 00 01 01 01 00 16 00 00 02 \n14 00 0A 00 15 03 01 00 00 00 00 01 01 01 01 01 \n14 00 0A 06 05 03 00 00 00 00 00 16 00 00 02 00 \n14 00 0A 00 00 03 01 01 01 01 01 01 01 01 01 01 \n14 00 12 13 00 03 00 16 00 00 00 00 03 00 16 02 \n14 00 00 00 00 03 00 01 01 01 01 01 03 00 01 01 \n14 0C 0D 0D 0E 0B 00 00 00 00 00 00 0B 16 02 00 \n14 00 00 00 00 01 01 01 01 01 01 01 01 01 01 01 \n14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14","02 02 16 00 01 03 00 00 00 02 00 00 01 01 03 14\n01 01 01 00 00 03 00 00 00 02 16 00 02 03 03 14 \n02 00 00 00 00 03 00 00 01 01 01 01 01 03 0B 14 \n01 01 01 00 00 0B 15 00 00 00 00 00 03 03 01 14 \n00 00 00 00 01 01 01 00 16 00 15 00 03 0B 03 14 \n01 01 01 00 00 00 00 00 01 01 01 00 03 01 03 14 \n02 00 00 00 00 02 00 00 00 03 15 00 0B 00 03 14 \n01 01 01 00 00 02 00 00 00 03 01 01 01 00 03 14 \n00 15 00 00 01 01 0E 00 00 0B 00 16 02 00 0B 14 \n01 01 01 00 00 00 00 0C 0E 01 00 01 01 01 01 14 \n14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14"],startPos:{x:16,y:31},startRoom:{x:1,y:0}},{rooms:["14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 \n14 03 00 15 00 00 15 03 03 03 00 00 00 03 00 00 \n14 03 01 01 01 01 01 0B 0B 0B 01 01 01 03 01 00 \n14 03 00 00 00 00 00 00 00 00 03 16 00 0B 00 00 \n14 03 00 00 00 00 00 16 15 00 03 01 01 01 01 01 \n14 03 01 01 01 01 01 01 01 00 0B 00 00 16 00 02 \n14 0B 00 00 00 00 00 00 00 00 01 01 01 01 01 01 \n14 01 00 00 00 00 00 09 08 00 03 00 03 00 02 00 \n14 00 00 00 00 00 04 07 06 00 0B 01 0B 16 00 01 \n14 00 00 00 00 00 00 0A 00 00 01 01 01 01 01 00 \n14 00 00 00 00 00 00 0A 00 00 00 00 00 00 00 00","14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 \n00 00 00 16 00 00 03 03 03 00 00 00 00 00 16 14 \n00 00 01 01 01 00 03 03 0B 00 01 01 00 01 01 14 \n00 00 15 00 00 00 03 0B 16 00 00 00 00 00 03 14 \n01 00 01 01 00 00 03 00 01 00 01 01 00 15 03 14 \n02 00 00 03 00 15 0B 15 00 00 03 00 00 01 03 14 \n01 00 00 0B 00 01 01 01 00 00 0B 00 1C 16 0B 14 \n00 00 00 15 00 00 00 00 00 00 00 00 01 01 01 14 \n01 00 00 01 1C 00 00 00 00 00 00 00 00 02 16 14 \n00 00 00 03 02 00 02 00 02 00 00 00 01 01 01 14 \n00 00 00 03 02 00 02 00 02 00 00 00 02 02 03 14","14 00 00 00 00 00 00 0A 00 00 00 00 00 00 00 00 \n14 00 00 00 00 00 00 12 13 00 00 00 00 00 00 00 \n14 16 00 00 00 00 00 00 15 00 00 00 00 00 00 00 \n14 01 00 00 00 00 00 01 01 00 00 00 00 00 00 00 \n14 00 00 00 00 00 1C 03 00 02 00 00 00 00 0C 0D \n14 00 00 00 00 1C 01 03 01 00 1C 00 00 00 00 00 \n14 00 00 00 1C 01 00 03 02 00 01 1C 00 00 00 00 \n14 00 00 1C 01 00 00 03 02 16 00 01 1C 00 00 00 \n14 00 1C 01 00 00 00 03 02 01 00 00 01 1C 00 00 \n14 01 01 00 00 00 00 0B 00 00 00 00 00 02 02 00 \n14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14","00 00 00 03 02 00 02 00 02 00 00 00 02 02 03 14 \n00 1C 01 0B 02 00 02 00 02 00 15 15 02 00 03 14 \n00 01 01 01 01 01 01 01 01 01 01 01 02 02 03 14 \n00 00 00 00 00 02 00 15 03 00 02 03 02 02 03 14 \n0D 0E 01 01 01 01 01 01 03 01 01 0B 02 02 03 14 \n00 02 15 03 02 00 00 15 03 02 03 00 02 02 0B 14 \n00 02 01 0B 01 01 01 01 03 02 0B 01 01 01 01 14 \n00 02 15 15 15 00 02 03 03 00 15 00 02 02 16 14 \n00 02 01 01 01 01 01 0B 03 01 01 01 01 01 01 14 \n00 02 00 15 15 15 15 00 0B 02 15 02 15 15 15 14 \n14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14"],startPos:{x:16,y:95},startRoom:{x:0,y:0}}];function Sn(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var Nn=function(){function n(t,e,r){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.textures=t,this.player=e,this.xroom=0,this.yroom=0,this.rooms=r.rooms.map((function(n,e){var o,i;return new kn(t,n,null===(o=r.elevators)||void 0===o?void 0:o.filter((function(n){return n.room===e})),null===(i=r.parrots)||void 0===i?void 0:i.filter((function(n){return n.room===e})).map((function(n){return n.steps})))})),this.container=new s.W20,this.numCarrots=this.rooms.reduce((function(n,t){return n+t.count(22)}),0),this.xroom=r.startRoom.x,this.yroom=r.startRoom.y;var o=2*this.yroom+this.xroom;this.currentRoom=this.rooms[o],this.currentRoom.addLevel(this.container),e.set(r.startPos.x,r.startPos.y)}var t,e;return t=n,(e=[{key:"add",value:function(n){n.addChild(this.container)}},{key:"remove",value:function(n){n.removeChild(this.container)}},{key:"tick",value:function(n){var t=this.player,e=t.xpos,r=t.ypos;e>=256?(this.xroom++,e-=256):e<=-16&&(this.xroom--,e+=256),r>=176?(this.yroom++,r-=176):r<=-16&&(this.yroom--,r+=176);var o=2*this.yroom+this.xroom;this.rooms[o]!==this.currentRoom&&(this.currentRoom.remove(this.container),this.currentRoom=this.rooms[o],this.currentRoom.addLevel(this.container),this.player.set(e,r)),this.currentRoom.tick(this,n)}},{key:"getRoom",value:function(n,t){var e=Math.floor(n/16)+this.xroom,r=2*(Math.floor(t/11)+this.yroom)+e;return this.rooms[r]}},{key:"getTileMaterial",value:function(n,t,e){e=e||this.getRoom(n,t),n<0&&(n+=16),t<0&&(t+=11);var r=t%11*16+n%16;return{material:In[e.tiles[r]],room:e,tileIndex:r}}}])&&Sn(t.prototype,e),n}();function jn(n,t,e,r,o,i,s){try{var a=n[i](s),F=a.value}catch(n){return void e(n)}a.done?t(F):Promise.resolve(F).then(r,o)}function Mn(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function s(n){jn(i,r,o,s,a,"next",n)}function a(n){jn(i,r,o,s,a,"throw",n)}s(void 0)}))}}function Gn(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var Un=a.$u.from({url:"assets/bomb-alert.mp3",sprites:{alert:{start:0,end:12}}});Un.loop=!0;var Hn=a.$u.from({url:"assets/carrot.mp3"});function Wn(n){return new Promise((function(t){return setTimeout(t,n)}))}Hn.loop=!1;var Yn,zn=function(){function n(t){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.app=t,this.levelIndex=0,this.lives=4,this.scoreBar=new on,this.numCarrots=0,this.textures=[],this.levelContainer=new s.W20,this.font=new V(en),this.bombTimes={};var e=new F.X;e.vignetting=0,e.lineContrast=.75,e.curvature=0,t.stage.filters=[e];for(var r=0;r<y.length;r++)this.textures.push(new b(y[r]).texture);this.player=new z(this.textures[23]);for(var o=0,i="05 19 05 32\n 05 1A 05 32 \n 05 92 05 28 \n 05 9E 05 46 \n 05 57 06 3C \n 05 72 06 4B \n 05 81 06 0A \n 05 27 07 1E \n 05 53 07 37 \n 05 5C 07 3C \n 05 66 07 1E \n 05 3A 08 2D \n 05 9C 08 0A\n 01 5C 06 3C \n 01 73 06 37\n 01 44 07 28\n 01 7E 07 28\n 01 96 07 50\n 01 15 08 28\n 01 71 08 3C\n 01 9D 08 50\n 02 37 05 32\n 02 84 05 32\n 02 4E 06 63\n 02 79 06 63\n 02 11 07 50\n 02 14 07 28 \n 02 48 07 46 \n 03 22 05 46 \n 03 1B 05 28 \n 03 8A 05 2D \n 03 22 06 46 \n 03 3A 06 28 \n 03 53 06 32 \n 03 84 06 32 \n 03 8C 06 3C \n 03 3B 07 32 \n 03 44 08 3C \n 03 48 08 32 \n 03 7D 08 28 \n 03 98 08 2D \n 04 18 05 0C \n 04 54 05 2D \n 04 59 05 23 \n 04 72 05 28 \n 04 95 05 28 \n 04 99 05 1E \n 04 47 06 19 \n 04 5D 06 28 \n 04 7E 06 37 \n 04 5A 07 28 \n 04 6F 07 28 \n 04 74 07 1E \n 04 79 07 1E \n 04 9F 07 1B \n 04 12 08 23 \n 04 29 08 32 \n 04 33 08 14\n 04 4E 08 1B \n 04 9E 08 28 \n 07 1B 05 32 \n 07 38 05 5A \n 07 68 05 28 \n 07 1A 06 41 \n 07 6E 06 31 \n 07 23 07 46 \n 07 2B 07 35 \n 07 2D 07 0F \n 07 37 07 46 \n 07 87 07 46 \n 07 34 08 32 \n 07 51 08 37 \n 07 5B 08 28 \n 07 68 08 3C \n 08 16 05 2D \n 08 1D 05 3C \n 08 3C 05 37 \n 08 51 05 2D \n 08 25 06 1E \n 08 85 06 28 \n 08 37 07 32 \n 08 71 07 32 \n 08 93 07 2D \n 09 39 05 46 \n 09 52 05 32 \n 09 74 05 3C \n 09 41 06 63 \n 09 63 06 50 \n 09 66 06 21 \n 09 69 06 23 \n 09 6A 06 60 \n 09 87 06 43 \n 09 06 07 32 \n 09 26 07 37 \n 09 34 07 3C \n 09 36 08 28 \n 09 4A 08 46 \n 09 6A 08 28 \n 09 81 08 46 \n 06 15 05 3C \n 06 3A 05 28 \n 06 5A 05 28 \n 06 5E 05 28 \n 06 64 05 63 \n 06 13 06 1E \n 06 16 06 1E \n 06 35 06 46 \n 06 5C 06 1E \n 06 81 06 28 \n 06 11 07 63 \n 06 1B 07 50 \n 06 39 07 46 \n 06 1E 08 37 \n 06 40 08 63 \n 06 58 08 55 \n 06 6E 08 3C \n\n 0A 13 05 3C \n 0A 16 05 3C \n 0A 48 05 37 \n 0A 32 06 35 \n 0A 4D 06 2D \n 0A 55 06 61 \n 0A 57 06 54 \n 0A 73 06 23".split(/\s+/).map((function(n){return parseInt(n,16)}));o<i.length;){var a=i[o++]-1,u=i[o++],l=i[o++]-5,c=i[o++];this.bombTimes[a]=this.bombTimes[a]||{},this.bombTimes[a][l]=this.bombTimes[a][l]||{},this.bombTimes[a][l][u]=100*c}}var t,e;return t=n,e=[{key:"handleDeath",value:function(){return Mn(i().mark((function n(){var t,e;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.lives--,this.scoreBar.update(this.numCarrots,this.lives,0),this.level=void 0,0==this.lives&&(t=" GAME OVER ",(e=new nn(this.font,t)).position.x=(256-8*t.length)/2,e.position.y=88,this.levelContainer.addChild(e),this.levelIndex=0,this.lives=4),n.next=7,Wn(2e3);case 7:this.levelContainer.removeChildren(),this.player.remove(this.levelContainer),this.nextLevel(this.levelIndex);case 10:case"end":return n.stop()}}),n,this)})).bind(this))()}},{key:"nextLevel",value:function(n){return Mn(i().mark((function t(){var e,r,o,s,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.player,r="".concat(n+1).padStart(2,"0"),o="Level:".concat(r),(s=new nn(this.font,o)).position.x=(256-8*o.length)/2,s.position.y=88,this.levelContainer.addChild(s),t.next=9,Wn(2e3);case 9:return(a=this.level=new Nn(this.textures,e,Ln[n])).add(this.levelContainer),e.add(this.levelContainer),e.pixiSprite.visible=!0,this.numCarrots=a.numCarrots,this.scoreBar.update(this.numCarrots,this.lives,0),t.abrupt("return",a);case 16:case"end":return t.stop()}}),t,this)})).bind(this))()}},{key:"start",value:function(){var n=this;return Mn(i().mark((function t(){var e,r,o,s,a,F;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(e=this.app).stage.addChild(this.levelContainer),this.scoreBar.add(e.stage),r=this.player,t.next=6,this.nextLevel(0);case 6:function u(n){$n[n.keyCode]==Yn&&(Yn=void 0),delete Xn[n.keyCode]}this.level=t.sent,window.addEventListener("keyup",u),s=0,a=Mn(i().mark((function t(e){var a,F,u,l,c,B,E;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Xn[e.keyCode]=!0,(a=$n[e.keyCode])&&(Yn=a,o=a),!n.level){t.next=9;break}if(32==e.keyCode&&(F=Math.floor(r.ypos/16),u=Math.floor((r.xpos+8)/16),l=n.level.getTileMaterial(u,F),c=l.material,B=l.room,E=l.tileIndex,r.hasBomb?n.level.getTileMaterial(u,F+1).material==w.FLOOR&&r.dropBomb(B):c==w.BOMB&&(B.replaceTile(E,0),r.grabBomb(),Un.play("alert"),s=Date.now()+n.bombTimes[n.levelIndex][n.level.xroom+2*n.level.yroom][E])),27!=e.keyCode){t.next=9;break}return r.suicide(n.level),t.next=9,n.handleDeath();case 9:case"end":return t.stop()}}),t)}))),window.addEventListener("keydown",a),F=Mn(i().mark((function t(e){var a,F,u,l,c,B,E,f;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.level){t.next=17;break}if(s&&(a=s-Date.now(),F=a/1e4,Un.speed=1*F+3.5*(1-F),n.scoreBar.update(n.numCarrots,n.lives,Math.max(a,0)),a<=0&&(Un.stop(),s=0,r.explodeBomb(n.level))),u=Math.floor((r.xpos+8)/16),l=Math.floor(r.ypos/16),c=n.level.getTileMaterial(u,l),B=c.material,E=c.room,f=c.tileIndex,B!=w.CARROT){t.next=15;break}if(E.replaceTile(f,w.EMPTY),n.numCarrots--,Hn.play(),n.scoreBar.update(n.numCarrots,n.lives,0),0!=n.numCarrots){t.next=15;break}return t.next=13,n.nextLevel(++n.levelIndex);case 13:return n.level=t.sent,t.abrupt("return");case 15:n.level.tick(r),r.tick(n,Yn,o);case 17:case"end":return t.stop()}}),t)}))),e.ticker.add(F);case 15:case"end":return t.stop()}}),t,this)})).bind(this))()}}],e&&Gn(t.prototype,e),n}(),Xn={},$n={39:r.RIGHT,37:r.LEFT,38:r.UP,40:r.DOWN};function Vn(n,t,e,r,o,i,s){try{var a=n[i](s),F=a.value}catch(n){return void e(n)}a.done?t(F):Promise.resolve(F).then(r,o)}console.log("Welcome to Fluffy! ".concat("1.0.0r"));var Kn,Zn=new s.MxU({backgroundColor:0,width:256,height:192});window.onload=(Kn=i().mark((function n(){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return document.body.appendChild(Zn.view),e=void 0,(e=function(){Zn.renderer.resize(window.innerWidth,window.innerHeight),Zn.stage.scale.x=window.innerWidth/256,Zn.stage.scale.y=window.innerHeight/192})(),window.addEventListener("resize",e),Zn.stage.interactive=!0,t=new zn(Zn),n.next=6,t.start();case 6:case"end":return n.stop()}var e}),n)})),function(){var n=this,t=arguments;return new Promise((function(e,r){var o=Kn.apply(n,t);function i(n){Vn(o,e,r,i,s,"next",n)}function s(n){Vn(o,e,r,i,s,"throw",n)}i(void 0)}))})}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.m=t,n=[],r.O=function(t,e,o,i){if(!e){var s=1/0;for(l=0;l<n.length;l++){e=n[l][0],o=n[l][1],i=n[l][2];for(var a=!0,F=0;F<e.length;F++)(!1&i||s>=i)&&Object.keys(r.O).every((function(n){return r.O[n](e[F])}))?e.splice(F--,1):(a=!1,i<s&&(s=i));if(a){n.splice(l--,1);var u=o();void 0!==u&&(t=u)}}return t}i=i||0;for(var l=n.length;l>0&&n[l-1][2]>i;l--)n[l]=n[l-1];n[l]=[e,o,i]},r.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(t,{a:t}),t},r.d=function(n,t){for(var e in t)r.o(t,e)&&!r.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:t[e]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),r.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},r.nmd=function(n){return n.paths=[],n.children||(n.children=[]),n},function(){var n={179:0};r.O.j=function(t){return 0===n[t]};var t=function(t,e){var o,i,s=e[0],a=e[1],F=e[2],u=0;if(s.some((function(t){return 0!==n[t]}))){for(o in a)r.o(a,o)&&(r.m[o]=a[o]);if(F)var l=F(r)}for(t&&t(e);u<s.length;u++)i=s[u],r.o(n,i)&&n[i]&&n[i][0](),n[s[u]]=0;return r.O(l)},e=self.webpackChunkfluffy=self.webpackChunkfluffy||[];e.forEach(t.bind(null,0)),e.push=t.bind(null,e.push.bind(e))}();var o=r.O(void 0,[431],(function(){return r(951)}));o=r.O(o)}();